{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"mapp Framework","text":"<p>To get started with the mapp Framework, proceed to the General information section. </p> <p></p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state! </p>"},{"location":"alarmx/","title":"General","text":"<p>mapp AlarmX Framework</p> <p>This section describes the mapp AlarmX Framework. For full details on mapp AlarmX itself, see here. </p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Task Overview</li> <li>Script</li> <li>Required Modification</li> <li>Optional Modification</li> </ul>"},{"location":"alarmx/features/","title":"\ud83d\udcc4Features","text":""},{"location":"alarmx/features/#mapp-alarmx-framework-features","title":"mapp AlarmX Framework Features","text":"<p>The following features and functionality are included in the mapp AlarmX Framework:</p> <ul> <li>100 ready-made discrete value monitoring alarms and a Boolean array to trigger each alarm</li> <li>Localizable text for each alarm</li> <li>Alarm mapping by severity with reactions</li> <li>A query along with the supporting state machine to query large amounts of data</li> <li>mapp View content to display current alarms, alarm history, and the alarm query</li> <li>The ability to acknowledge and export alarms from the HMI</li> </ul>"},{"location":"alarmx/features/#embedded-examples","title":"Embedded Examples","text":"<p>The following examples are embedded into the Framework:</p> <ul> <li>Examples for each type of monitoring alarm.Details are provided in the comments in the AlarmSamples.st action file, starting on line 5.</li> <li> <p>Alarm names:</p> <ul> <li>LevelMonitoringExample</li> <li>DeviationMonitoringExample</li> <li>RateOfChangeExample</li> </ul> </li> <li> <p>Example for incorporating a snippet into an alarm. This example is provided to allow easy copy and paste of the syntax for referencing a snippet in the mapp AlarmX configuration.</p> </li> <li> <p>Alarm name: SnippetExample</p> </li> <li> <p>Example of using MpAlarmXAlarmControl to manually set and reset an alarm from code</p> </li> <li>Alarm name: MpAlarmXControlExample</li> <li>The supporting code is shown in the AlarmSamples.st action file on lines 24\u201332</li> </ul>"},{"location":"alarmx/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"alarmx/required_modification/#required-modifications","title":"Required Modifications","text":"<p>The Framework provides a solid foundation by default. However, to fully integrate it into an application, several modifications are required.</p> <p>The following steps must be completed to bring the Framework into a functional state within the application.</p> <p>IMPORTANT: The steps on this page must be executed in order to get the Framework into a functional state. </p>"},{"location":"alarmx/required_modification/#1-define-the-condition-to-trigger-each-alarm","title":"1. Define the condition to trigger each alarm","text":"<ul> <li>The AlarmMgr task contains a Boolean array called Alarms. Each index of the array corresponds to the monitored PV for one of the 100 predefined alarms in the AlarmX configuration.</li> <li>For each of these alarms, set the corresponding Alarms[] bit equal to the alarm condition relevant to the application.This is done in the AlarmHandling.st action file.</li> </ul> <p>Example: If Alarms[0] should trigger when the light curtain is interrupted and the system is not in maintenance mode, then the alarm condition must reflect this logic.</p> <p>Alarms[0] := LightCurtainInterrupted AND NOT MaintentanceMode</p>"},{"location":"alarmx/required_modification/#2-define-the-alarm-text-for-each-alarm","title":"2. Define the alarm text for each alarm","text":"<ul> <li>Define a unique alarm text for each alarm in the Alarms.tmx file.</li> <li>Alarms.tmx is located in the Logical View under the Infrastructure package and the AlarmX package.</li> <li>Text ID Alarm.0 corresponds to Alarm0 (Alarms[0]).Text ID Alarm.1 corresponds to Alarm1 (Alarms[1]), and so on.</li> <li>Define the alarm text for all languages relevant to the application.</li> </ul>"},{"location":"alarmx/required_modification/#3-assign-a-severity-to-each-alarm","title":"3. Assign a severity to each alarm","text":"<ul> <li>Assign an appropriate severity to each alarm in the Alarm List according to the alarm mapping.</li> <li>This is done in the AlarmXCfg.mpalarmxcore configuration file. The configuration file is located in the Configuration View under the CPU package, the mapp Services package, and the AlarmX package.</li> <li>By default, all alarms have a severity of 1, which corresponds to the Info reaction.</li> <li>The selected severity determines which alarm reaction is triggered.</li> </ul>"},{"location":"alarmx/required_modification/#4-define-the-application-response-to-alarm-reactions","title":"4. Define the application response to alarm reactions","text":"<ul> <li>Define how the application should respond to each alarm reaction.</li> <li>This is done using the MpAlarmXCheckReaction function calls in AlarmMgr.st, starting at line 66.</li> <li>Within each IF condition, add application-specific logic to define the machine response.</li> <li>For example:</li> <li>Error reaction: stop all axes</li> <li>Warning reaction: stop the machine after the next cycle</li> <li>Info reaction: show an information popup on the HMI</li> <li>For more details on optional changes related to alarm reactions and alarm mapping, see the corresponding documentation here. </li> </ul>"},{"location":"alarmx/required_modification/#5-change-default-user-passwords","title":"5. Change default user passwords","text":"<ul> <li>Change the passwords for the Admin, Operator, and Service_Tech users. This is done in the User.user file located in the Configuration View under AccessAndSecurity, UserRoleSystem, and User.user. If users with the same names already existed in the project before importing the Framework, those users remain unchanged and the passwords do not need to be updated.</li> </ul>"},{"location":"alarmx/required_modification/#6-integrate-the-hmi-content","title":"6. Integrate the HMI content","text":"<ul> <li>If the mapp View front end was imported with the Framework:</li> <li>Assign the provided mapp View content with content ID AlarmX_content to an area on a visualization page.</li> <li>If the mapp View front end was not imported:</li> <li>Connect the elements of the HmiAlarmX structure to the visualization accordingly.</li> <li>Refer to the relevant documentation for further details. here</li> </ul>"},{"location":"alarmx/script/","title":"\ud83d\udcc4Script","text":""},{"location":"alarmx/script/#alarmx-configuration-import-and-export-via-python","title":"AlarmX Configuration Import and Export via Python","text":"<p>A Python script is provided within the AlarmX package in the Logical View.</p> <p>This script allows you to export the AlarmX configuration to Excel and then re-import the AlarmX configuration back into the project after you've made any necessary changes.</p>"},{"location":"alarmx/script/#prerequisites-for-using-the-script","title":"Prerequisites for Using the Script","text":""},{"location":"alarmx/script/#1download-and-install-python","title":"1.Download and Install Python","text":"<p>-&gt; Download and Install Python</p>"},{"location":"alarmx/script/#2edit-your-system-path","title":"2.Edit Your System Path","text":"<p>1.From the Control Panel, navigate to the advanced system settings. Alternatively, type \"environment variables\" in the start menu search bar and select \"Edit the system environment variables\".</p> <p></p> <p>2.Click on \"Environment Variables\".</p> <p></p> <p>3.Click on \"Path\" and then \"Edit\".</p> <p></p> <p>4.Add the following two paths to the list:</p> <pre><code>   C:\\Users\\{username}\\AppData\\Local\\Programs\\Python\\Python310\n   C:\\Users\\{username}\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\n</code></pre>"},{"location":"alarmx/script/#_1","title":"\ud83d\udcc4Script","text":""},{"location":"alarmx/script/#3install-lxml","title":"3.Install lxml","text":"<p>1.Open the command prompt (Start menu, cmd.exe). 2.Run the following command: pip install lxml</p>"},{"location":"alarmx/script/#steps-to-export-the-alarm-configuration-to-excel","title":"Steps to Export the Alarm Configuration to Excel","text":"<p>1.Open the command prompt (Start menu, cmd.exe).</p> <p>2.Change directory to:</p> <pre><code>  &lt;directory of project&gt;\\Logical\\Infrastructure\\AlarmX\n</code></pre> <p>3.Edit the following command according to your configuration name and PLC name, and then run it in the command line:</p> <pre><code>   - python AlarmImportExport.py --export True --csv-file .\\Alarmx.csv --mpalarmxcore \"..\\..\\..\\Physical\\{ConfigName}\\{PLCname}\\mappServices\\AlarmX\\AlarmXCfg.mpalarmxcore\"\n</code></pre> <p>Note: During Python installation, if you associated .py files with the Python executable, then remove the word \"python\"  from the beginning of the command.</p> <p>4.Open the resulting AlarmX.csv file in Excel.</p> <p>The .csv file is added to the AlarmX package in the Logical View.    You will not see it in Automation Studio and must open it using Windows Explorer.</p> <p>5.Edit the alarm list as needed using Excel.</p>"},{"location":"alarmx/script/#steps-to-import-the-alarm-configuration-from-excel","title":"Steps to Import the Alarm Configuration from Excel","text":"<p>1.Close the Alarm configuration file within Automation Studio, if it is currently open.</p> <p>2.Open the command prompt (Start menu, cmd.exe).</p> <p>3.Change directory to:</p> <pre><code>   - &lt;directory of project&gt;\\Logical\\Infrastructure\\AlarmX\n</code></pre> <p>4.Edit the following command according to your configuration name and PLC name, and then run it in the command line.</p> <p>Note that any changes made to the alarm configuration file in Automation Studio after exporting to Excel will be overwritten by this import.</p> <pre><code>   - python AlarmImportExport.py --csv-file .\\Alarmx.csv --mpalarmxcore \"..\\..\\..\\Physical\\{ConfigName}\\{PLCname}\\mappServices\\AlarmX\\AlarmXCfg.mpalarmxcore\"\n\n</code></pre> <p>Note: During Python installation, if you associated .py files with the Python executable, then remove the word \"python\"  from the beginning of the command.</p>"},{"location":"alarmx/task_overview/","title":"\ud83d\udcc4Task Overview","text":""},{"location":"alarmx/task_overview/#alarmmgr-task-overview","title":"AlarmMgr Task Overview","text":"<p>The AlarmMgr task contains all of the provided Framework code for mapp AlarmX.</p> <p>This task is located in the Logical View within the Infrastructure package. The chart below provides a description of the main task and each action file.</p> <p>The AlarmMgr task is deployed to Task Class 1 by the Import Tool.</p>"},{"location":"alarmx/task_overview/#alarmmgr-task-files","title":"AlarmMgr Task Files","text":"Filename Type Description AlarmMgr.st Main task code General mapp function block handling.Handles alarm acknowledgment.Handles alarm history export.Checks if any reactions are active.Calls all actions. AlarmHandling.st Action Defines the conditions which trigger each alarm.The AlarmMgr task contains a Boolean array called Alarms. Each index of the array corresponds to the Monitored PV for each of the 100 predefined alarms in the AlarmX configuration.This is also the designated place to define the conditions under which alarms should be inhibited, if inhibiting is required in the application. HMIActions.st Action Shows the alarm backtrace information on the HMI.Typically, the backtrace action (GetBacktraceInformation) does not need to be modified.Also sets up the table configuration for the query table. ExecuteQuery.st Action Executes a query.Includes the supporting state machine used to query large amounts of data. AlarmSamples.st Action Calls the variables for the examples built into the Framework.Contains comments explaining each example."},{"location":"alarmx/Optional_Modification/","title":"\ud83d\udcc4Overview","text":"<p>Optional Framework Modifications</p> <p>The Framework can be adjusted as needed for the application in any way necessary.</p> <p>This section summarizes some optional modifications that are commonly done to the Framework.</p> <ul> <li>Adjust the provided query (ActiveAlarms) source conditions (SELECT and WHERE) in AlarmXCfg.mpalarmxcore.</li> <li>Decide how to handle the situation where the query result contains more than 20 alarms. Refer to the comments in ExecuteQuery.st starting on line 38.</li> <li>If alarms are triggered via MpAlarmXControl or MpAlarmXSet, consider setting and resetting alarms throughout the  application and not solely within the AlarmMgr task. <ol> <li>For example, if an error occurs in the recipe system, the alarm can be triggered directly in the recipe task.</li> <li>Decentralization in this way is a key benefit of mapp AlarmX. </li> </ol> </li> <li>By default, the provided query runs only when the Run query button is clicked on the HMI. If you want the query to run whenever new data is available, refer to the comments in the ACTIVE_ALARM_WAIT state of the ExecuteQuery action.</li> <li>In the CPU configuration, modify the mappAlarmXFiles file device to the desired storage medium. By default, this corresponds to the User partition (F:\\AlarmX). <ol> <li>If this is changed, update or delete lines 10\u201316 of the AlarmMgr.st INIT program, which create the F:\\AlarmX directory if it does not already exist.</li> </ol> </li> <li>Add additional alarms or delete unused alarms (see here for more details).</li> <li>Adjust the alarm mapping (see here for more details).</li> <li>Inhibit specific alarms under defined conditions (see here for more details).</li> <li>Add additional queries (see here for more details).</li> </ul> <p>Topics in this section:</p> <ul> <li>Add or Delete Alarms</li> <li>Alarm Mapping</li> <li>Inhibit Alarms</li> <li>Add Queries</li> </ul>"},{"location":"alarmx/Optional_Modification/add_alarm/","title":"\ud83d\udcc4Add or Delete Alarms","text":""},{"location":"alarmx/Optional_Modification/add_alarm/#adding-alarms","title":"Adding Alarms","text":"<p>The Framework comes with 100 discrete value monitoring alarms. If you need more discrete value monitoring alarms or any other type of alarm, add them accordingly.</p> <p>The steps are as follows:</p> <ol> <li>Increase the size of the Alarms[] array in AlarmMgr.var according to how many alarms you need to add.</li> <li>Add the new alarms to the Alarm List in the AlarmXCfg.mpalarmxcore configuration file.    Set the monitored PVs to the newly added elements of the Alarms[] array from step 1.</li> <li>Define the condition to trigger each new alarm in the AlarmHandling.st action file.</li> </ol> <p>Note that it is permissible to mix and match different types of alarms. For example, monitoring alarms can be combined with edge or persistent alarms that are triggered via  MpAlarmXAlarmControl or MpAlarmXSet.</p>"},{"location":"alarmx/Optional_Modification/add_alarm/#deleting-alarms","title":"Deleting Alarms","text":"<p>The Framework comes with 100 discrete value monitoring alarms. If you do not need all 100 alarms, delete them as required.</p> <p>The steps are as follows:</p> <ol> <li>Optionally decrease the size of the Alarms[] array in AlarmMgr.var according to how many alarms you want to remove.</li> <li>Delete the unused alarms from the Alarm List in the AlarmXCfg.mpalarmxcore configuration file.</li> <li>Delete the alarm assignments for the unused alarms in the AlarmHandling.st action file.</li> </ol> <p>Note that these assignments may already be commented out from the initial Framework import.</p>"},{"location":"alarmx/Optional_Modification/add_alarm/#deleting-the-example-alarms","title":"Deleting the Example Alarms","text":"<p>The Framework also includes a number of example alarms. If you do not need some or all of these examples, perform the following steps:</p> <ol> <li>Remove members from the AlarmExamples_typ or completely delete the AlarmExamples variable in AlarmMgr.var.</li> <li>Delete the example alarms from the top of the Alarm List in the AlarmXCfg.mpalarmxcore configuration file.</li> <li>Edit or completely delete the AlarmSamples.st file, depending on which alarms are no longer required. If you delete the AlarmSamples.st file, also delete lines 19 and 62 of AlarmMgr.st where the AlarmSampleInit and AlarmSampleFub actions are called.</li> </ol>"},{"location":"alarmx/Optional_Modification/add_queries/","title":"\ud83d\udcc4Add Queries","text":""},{"location":"alarmx/Optional_Modification/add_queries/#adding-additional-queries","title":"Adding Additional Queries","text":"<p>The ExecuteQuery.st action file contains the programming required to execute the query that comes with the Framework, the ActivateAlarms query.</p> <p>It also contains the supporting state machine that is used to query large amounts of data.</p> <p>If you would like to add an additional query, the following steps are required.</p>"},{"location":"alarmx/Optional_Modification/add_queries/#1-alarmmgrvar","title":"1. AlarmMgr.var","text":"<ol> <li> <p>Copy and paste the variable declaration for QueryActiveAlarms and give it a unique name.    Each query needs a dedicated function block instance.</p> </li> <li> <p>Copy and paste the variable declaration for AlarmQuery and give it a unique name.</p> </li> </ol>"},{"location":"alarmx/Optional_Modification/add_queries/#2-alarmxcfgmpalarmxcore-configuration-file","title":"2. AlarmXCfg.mpalarmxcore configuration file","text":"<ol> <li> <p>Define the new query in the Data Queries section at the bottom of the configuration file.    Give it a unique name.</p> </li> <li> <p>Use the new query variable created in step 1.2 for the process variable connections and update count.</p> </li> </ol>"},{"location":"alarmx/Optional_Modification/add_queries/#3-executequeryst","title":"3. ExecuteQuery.st","text":"<p>Copy and paste lines 3\u201347 of ExecuteQuery.st to duplicate the code.Then within the copied code:</p> <ol> <li>Replace every instance of QueryActiveAlarms with the new function block name created in step 1.1.</li> <li>Replace the query name assignment with the name of the new query created in step 2.1.<ul> <li>NewQueryFUB.Name := ADR('NewQueryNameFromStep2.1');</li> </ul> </li> <li> <p>Replace every instance of AlarmQuery with the new variable name created in step 1.2.</p> </li> <li> <p>If you would like the new query to run only based on a button press.Add a new boolean within HmiAlarmX.Commands for the new trigger. Update the IF statement accordingly within the ACTIVE_ALARM_WAIT state. </p> </li> </ol> <p>Repeat these steps for all additional queries.</p>"},{"location":"alarmx/Optional_Modification/alarm_mapping/","title":"\ud83d\udcc4Alarm Mapping","text":""},{"location":"alarmx/Optional_Modification/alarm_mapping/#alarm-reactions","title":"Alarm Reactions","text":"<p>The Framework establishes three alarm reactions by default within the alarm mapping.</p> <ol> <li>Info (severity 1\u20139)</li> <li>Warning (severity 10\u201319)</li> <li>Error (severity 20\u201329)</li> </ol> <p></p> <p>The MpAlarmXCheckReaction() function is called for each reaction within the AlarmMgr task.</p>"},{"location":"alarmx/Optional_Modification/alarm_mapping/#_1","title":"\ud83d\udcc4Alarm Mapping","text":""},{"location":"alarmx/Optional_Modification/alarm_mapping/#optional-changes","title":"Optional Changes","text":"<p>The following optional changes should be considered to align the Framework with the application requirements.</p> <ul> <li> <p>Adjust the severity ranges </p> <ol> <li>This is done in the AlarmXCfg.mpalarmxcore configuration file</li> </ol> </li> <li> <p>Rename the reactions </p> <ol> <li>This is done in the AlarmXCfg.mpalarmxcore configuration file</li> <li>If you do this, remember to change the name in the MpAlarmXCheckReaction() function calls in AlarmMgr.st to the new name, starting at line 68</li> <li>Examples of alternative reaction names:   -&gt; SlowDownConveyor    -&gt; HydraulicMotorOff    -&gt; StopAllMotion    -&gt; YellowLamp </li> </ol> </li> <li> <p>Add or remove reactions </p> <ol> <li>This is done in the AlarmXCfg.mpalarmxcore configuration file </li> <li>If you do this, remember to add or remove function calls of MpAlarmXCheckReaction() in AlarmMgr.st accordingly, starting at line 68 </li> </ol> </li> <li> <p>Check for the reactions elsewhere in code </p> <ol> <li>Typically, the MpAlarmXCheckReaction() function is called from other tasks within the application</li> <li>For example, the axis control task might check for the Error reaction to determine whether to send a stop command to the axes. Copy and paste the IF statements containing  MpAlarmXCheckReaction() from AlarmMgr.st as needed throughout the application</li> </ol> </li> </ul>"},{"location":"alarmx/Optional_Modification/inhibit/","title":"\ud83d\udcc4Inhibit Alarms","text":""},{"location":"alarmx/Optional_Modification/inhibit/#inhibiting-monitoring-alarms","title":"Inhibiting Monitoring Alarms","text":"<p>Decide whether each monitoring alarm should be inhibited at any point.</p> <p>If so, proceed as follows:</p> <ol> <li> <p>Assign an Inhibit PV to the alarm within the Alarm List of the AlarmXCfg.mpalarmxcore configuration file. </p> <ol> <li>This is an advanced parameter, so remember to click the advanced settings icon.</li> </ol> </li> <li> <p>In the AlarmHandling.st action, write an IF statement to set the Inhibit PV according to a specific condition. </p> <ol> <li>It is common to use the same Inhibit PV to inhibit multiple alarms. </li> <li>For example, a maintenance mode bit set to True can simultaneously inhibit alarms that should not be monitored during machine maintenance.</li> </ol> </li> </ol> <p>An example of using the Inhibit PV is built into Alarm0.The condition for setting CommissioningModeActive to True is not yet defined in AlarmHandling.st and must be implemented based on the application logic.</p> <p> </p>"},{"location":"audit/","title":"General","text":""},{"location":"audit/#mapp-audit-framework","title":"\ud83d\udee1\ufe0f mapp Audit Framework","text":"<p>This section describes the mapp Audit Framework. For full details on mapp Audit itself, see here.</p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Task Overview</li> <li>Required Modification</li> <li>Optional Modification</li> </ul>"},{"location":"audit/features/","title":"\ud83d\udcc4Features","text":""},{"location":"audit/features/#mapp-audit-framework-features","title":"\ud83d\udee1\ufe0f mapp Audit Framework Features","text":"<p>The following features and functionality are included in the mapp Audit Framework:</p> <p>Two audit systems:</p> <ul> <li> <p>mapp Services events</p> <ul> <li>This audit trail captures all built-in events related to the other mapp Services frameworks that are included in the project</li> </ul> </li> <li> <p>Custom events</p> <ul> <li>This audit trail can be used for debugging and troubleshooting the application. The intention with these custom events is that you can leave \u201cbreadcrumbs\u201d throughout the application which can help you track down bugs in the application code. For example, if you are troubleshooting a page fault, you could trigger a custom audit event at the top of every task or in several places throughout a task to narrow down where the page fault occurs. The text for the custom audit event is provided directly to the MpAuditCustomEvent() function. For more details, see here.</li> </ul> </li> </ul> <p>A mapp View content to view the audit list</p> <ul> <li>The audit systems use separate display texts, meaning the text shown on the HMI is different than the text that gets exported to the file. This allows you to show a succinct message in the message column on the HMI, and optionally add in the timestamp column / user column / etc to show additional context as needed. Then the exported audit file contains more information directly in the message.</li> </ul> <p>The ability to export an audit archive and choose your export format via the HMI</p> <p>The ability to configure automatic archiving</p> <p>The text system has been set up to generate applicable text for all mapp Services audit events</p> <p>A query along with the supporting state machine to be able to query large amounts of data</p> <p>An example of setting up a variable monitoring audit event is provided within the framework:</p> <ul> <li> <p>You can choose to record the value change events of specific variables by adding them to the \u201cVariable Monitor\u201d list in the mapp Audit Configuration</p> <ul> <li>The provided example uses variable ::AuditMgr:VariableMonitorExample</li> </ul> </li> <li> <p>The localizable text definition for these events is defined in the TxtDatapoints.tmx files</p> <ul> <li>Namespace MpAudit/DP for the exported text, and namespace MpAudit/Display/DP for the displayed text</li> <li>The text ID must be equal to the fully resolved variable name (::AuditMgr:VariableMonitorExample in this case)</li> </ul> </li> </ul>"},{"location":"audit/features/#access-rights","title":"\ud83d\udd10 Access Rights","text":"<p>The ability to configure the automatic archive export is restricted to the Administrators role.</p> <p>The ability to create an immediate export is restricted to the Administrators or Service role.</p> <p>The default administrative user is Admin with default password 123ABc. The password must be changed after import.</p>"},{"location":"audit/optional_modification/","title":"\ud83d\udcc4Optional Modification","text":""},{"location":"audit/optional_modification/#optional-modifications","title":"\u2699\ufe0f Optional Modifications","text":"<p>The Framework can be adjusted as needed for the application in any way necessary. This section summarizes some optional modifications that are commonly done to the Framework.</p> <ul> <li> <p>Implement custom audit events throughout the application as needed for debugging during development. These audit events correspond to the custom event audit trail. The full process is as follows:</p> <ol> <li>Increase the value of MAX_CUSTOM_EVENTS within AuditMgr.var according to how many custom events you will use. </li> <li>Define the text for the type, message, and comment of each custom audit event in the CustomEvent variable structure. This is done in the initialization program of AuditMgr.st starting on line 35. Alternatively, you can do this directly in the \"Value\" column of AuditMgr.var. These texts will be used when calling the MpAuditCustomEvent() function block. Note that you can only provide the texts in one language (they are not localizable).</li> <li>Trigger the custom events throughout the application. Examples for how to do this are shown starting on line 75 of AuditMgr.st.</li> </ol> </li> <li> <p>The localizable text files for mapp Services audit events are provided in the Infrastructure/Audit package of the Logical View. These files were originally taken from the MpAudit library, but they were expanded upon for the framework. Edit the text entries as needed. </p> </li> <li>In the CPU configuration, modify the \u201cmappAuditFiles\u201d file device to the desired storage medium. By default, this corresponds to the User partition (F:\\Audit). <ol> <li>If you do, modify or delete lines 10-16 of the AuditMgr.st INIT program, which creates the directory F:\\Audit if it does not already exist.</li> </ol> </li> </ul>"},{"location":"audit/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"audit/required_modification/#required-modifications","title":"\ud83d\udd27 Required Modifications","text":"<p>The Framework by default provides a solid foundation, but in order to integrate it fully into your application there are a few modifications that must be made. The following list of modifications is required to get the Framework into a functional state within the application.</p> <p>\ud83d\udea8 IMPORTANT: The steps on this page must be executed in order to get the Framework into a functional state.</p> <ol> <li> <p>Change the passwords for the Admin, Operator, and Service_Tech users.    This is done in the User.user file in the Configuration View (AccessAndSecurity \u2192 UserRoleSystem \u2192 User.user). Note that if you already had users in your project with these same names prior to import,    your existing users will remain unchanged and you do not need to update the passwords.</p> </li> <li> <p>The Audit Framework uses retained variables, which require nonzero remanent memory.    This must be configured in the CPU memory configuration if it is not already configured.</p> </li> <li> <p>If you imported the mapp View front end with the Framework:</p> <ol> <li> <p>Assign the mapp View content  (content ID = Audit_content) to an area on a page within your visualization.</p> </li> <li> <p>The ability to configure automatic archive export is restricted to the Administrators role, and the ability to create an immediate export is restricted to the Administrators or Service role.  Therefore, add a way to log in on the HMI (for example, by importing the mapp UserX framework).</p> </li> </ol> </li> <li> <p>If you did not import the mapp View front end, connect the HmiAudit structure elements    to your visualization accordingly (see here for more details).</p> </li> </ol>"},{"location":"audit/task_overview/","title":"\ud83d\udcc4Task Overview","text":""},{"location":"audit/task_overview/#auditmgr-task-overview","title":"\ud83d\udee1\ufe0f AuditMgr Task Overview","text":"<p>The AuditMgr task contains all of the provided Framework code for mapp Audit. This task is located in the Logical View within the Infrastructure package.</p> <p>The chart below provides a description of the main task and each action file.</p> <p>The AuditMgr task is deployed to Task Class 8 by the Import Tool.</p>"},{"location":"audit/task_overview/#task-files","title":"\ud83d\udcc4 Task Files","text":"Filename Type Description AuditMgr.st Main task code General mapp function block handling.Calls all actions.Contains custom event examples. HMIActions.st Action Supporting code for HMI functionality.Handles archive settings and export commands.Handles commands to load and save an audit configuration.Sets up the table configuration for the query table. ExecuteQuery.st Action Executes a query.Includes the supporting state machine to query large amounts of data. ChangeConfiguration.st Action Contains the programming to modify the audit configuration at runtime.Modifications to this action are typically not necessary."},{"location":"audit/task_overview/#text-files-in-the-audit-package","title":"\ud83e\uddfe Text Files in the Audit Package","text":"<p>Several text files are provided within the Audit package.</p> Package name Description ExportedText Contains the audit texts that are exported to the audit list.These texts are typically more detailed and longer than the texts used for the HMI. DisplayText Contains the audit texts that are displayed on the HMI.These texts typically exclude timestamp, username, and similar data, since those values can be shown in dedicated HMI columns. CommonText Contains texts used in both exported and displayed audit texts.These include texts relevant for each mapp Services audit event. <p>For details on which text ID corresponds to which event type, see AS Help.</p>"},{"location":"audit/task_overview/#localizable-alarm-texts","title":"\u2699\ufe0f Localizable Alarm Texts","text":"<p>A localizable text file for the mapp Audit alarms is included within the Audit package (AuditAlarms.tmx).</p> <p>These alarm texts are referenced in the mapp Audit configuration instead of the default alarm texts provided by mapp Services, which makes it easier to expand the texts to include the language of your choice.</p>"},{"location":"axis_cockpit/","title":"General","text":""},{"location":"axis_cockpit/#mapp-axis-framework","title":"\ud83e\udded mapp Axis Framework","text":"<p>This section describes the mapp Axis Framework. For full details on mapp Axis itself, see here. For full details on mapp Cockpit itself, see here. </p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Task Overview</li> <li>Required Modification</li> <li>Optional Modification</li> </ul>"},{"location":"axis_cockpit/features/","title":"\ud83d\udcc4Features","text":""},{"location":"axis_cockpit/features/#mapp-axis-framework","title":"\ud83e\udded mapp Axis Framework","text":"<p>The following features and functionality are included in the mapp Axis Framework:  </p> <p>\u2022 Single-axis implementation which can be repeated for multiple axes.   Includes basic commands, manual/automatic modes, and an overarching state machine for axis control  </p> <p>\u2022 Cyclic data exchange for current, lag error, and motor temperature  </p> <p>\u2022 Detailed alarm integration with mapp AlarmX </p> <p>\u2022 Automatic setup of mapp Cockpit </p> <p>\u2022 mapp View content to show the axis faceplate </p> <p>The mapp Axis Framework is designed so that the main axis control code within the AxisTemplate package is reused for all axes that you add. This makes it easy to update the overall process for all axes simultaneously.</p> <p>Any modifications made to the following files within this package will apply to all axes:</p> <p>\u2022 AxisMgr.var \u2022 AxisStateMachine.st \u2022 ChangeConfiguration.st \u2022 Recipe.st </p> <p>The Framework comes with the AxisTemplate package as well as one application axis set up for you in the AppAxis_1 package. To add additional axes, see here.</p> <p>Axis-specific code is written within a dedicated package for that axis.For more details, see here.</p>"},{"location":"axis_cockpit/features/#access-rights","title":"\ud83d\udd10 Access Rights","text":"<p>The ability to interact with the axis faceplate on the mapp View HMI is restricted to the Administrators, Service, and Operators roles.</p> <p>The default administrative user is Admin with default password 123ABc. The password must be changed after import.</p>"},{"location":"axis_cockpit/features/#homing-behavior","title":"\ud83c\udfe0 Homing Behavior","text":"<p>The homing mode is mcHOMING_RESTORE_POSITION.</p> <p>\u2022 If you power on and a homing position exists and is valid, it is automatically restored.  </p> <p>\u2022 If you power on and a homing position does not exist, an alarm will trigger to notify you.   At that point, you must execute a homing command, which corresponds to mcHOMING_DIRECT.</p>"},{"location":"axis_cockpit/features/#automatic-mode-behavior","title":"\u26a0\ufe0f Automatic Mode Behavior","text":"<p>Please note that in Automatic mode, active alarms will prevent the axis from running.</p> <p>To start running the axis in Automatic mode, all alarms must be acknowledged.</p>"},{"location":"axis_cockpit/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"axis_cockpit/required_modification/#required-modifications","title":"\ud83d\udd27 Required Modifications","text":"<p>The Framework by default provides a solid foundation, but in order to integrate it fully into your application there are a few modifications that must be made. The following list of modifications are required to get the Framework in a functional state within the application.</p> <p>\ud83d\udea8 IMPORTANT:  The steps on this page must be executed in order to get the Framework into a functional state! </p> <ol> <li> <p>If you plan to run the axis on physical hardware (not via a pure virtual), do the following:</p> <ol> <li> <p>Add the drive which will control the axis to the Physical View.</p> </li> <li> <p>In the drive configuration, set the axis reference to the MpLink from the single axis configuration file.</p> </li> <li> <p>Delete the VAppAxis1.purevaxcfg file.</p> </li> <li> <p>Change the value of MC_BR_ProcessConfig_ACP.DataType from mcCFG_PURE_V_AX to mcCFG_ACP_AX   in the ConfigurationInit action (line 16 of ChangeConfiguration.st in the AxisTemplate package).</p> </li> </ol> <p>If at any point you need to simulate this axis after configuring it to run on real hardware,  be sure to set a version number for McAcpSim within Change Runtime Versions  (check the Advanced box and then expand mapp Motion).</p> </li> <li> <p>Implement Automatic Mode for the axis.This is done within the AxisAutomatic action of the     AxisControlModes.st file. After importing the Framework, automatic mode is empty and must be programmed according to the needs of the application.</p> </li> <li> <p>Edit the SimulationControl.st, AxisMgr.st, ManualCommand.st, and AutomaticCommand.st files according to    the unique application requirements of your axis.  For details about what these files are intended for, see Task Overview.</p> </li> <li> <p>The axis task(s) should run in cyclic 1, and the maximum allowed cycle time is 20 ms. Adjust the TC1 cycle time accordingly.</p> </li> <li> <p>Change the passwords for the Admin, Operator, and Service_Tech users.This is done in the User.user file     in the Configuration View (AccessAndSecurity \u2192 UserRoleSystem \u2192 User.user). Note that if you already had users in your project with these same names prior to import, your existing users will remain unchanged and you do not need to update the passwords.</p> </li> <li> <p>If you imported the mapp View front end with the Framework:</p> <ol> <li> <p>Assign the mapp View content (content ID = Axis_content) to an area on a page within your visualization.</p> </li> <li> <p>The ability to interact with the axis faceplate on the mapp View HMI is restricted to the Administrators, Service, and Operators roles. Therefore, add a way to log in on the HMI   (for example, by importing the mapp UserX framework).</p> </li> </ol> <p>Note that on the mapp View HMI, a button to activate synchronization is provided on the Auto mode tab.  Since only one axis is included by default in the Framework, this button has no effect. This button is provided in case you add additional axes, since synchronization is often required.</p> </li> <li> <p>If you did not import the mapp View front end with the Framework,connect the HmiAxis structure elements to your     visualization accordingly.</p> </li> </ol>"},{"location":"axis_cockpit/task_overview/","title":"\ud83e\udded AppAxis_1 Task Overview","text":"<p>The AppAxis_1 task contains all of the provided Framework code for mapp Axis. This task is located in the Logical View within the MachineControl package.</p> <p>The AppAxis_1 task is deployed to Task Class 1 by the Import Tool.</p>"},{"location":"axis_cockpit/task_overview/#task-files","title":"\ud83d\udcc4 Task Files","text":"Filename Type Reference vs Unique Description AxisMgr.st Main task code Unique / dedicated file per axis General mapp function block handling.Calls all actions. AxisStateMachine.st Action Referenced file within the AxisTemplate package Generic state machine used for all axes.Includes states such as power-on, homing, manual/automatic operation, stopping, etc. SimulationControl.st Action Unique / dedicated file per axis Supporting code for simulation.Modify as needed for simulation requirements. AxisControlModes.st Action Unique / dedicated file per axis Axis-specific programming.Contains manual and automatic mode state machines.Manual mode is set up for basic jogging.Automatic mode is empty by default and intended to be filled per application. Recipe.st Action Referenced file within the AxisTemplate package Registers axis variables to the recipe system.Optionally add additional variables as needed. ManualCommand.st Function Unique / dedicated file per axis Returns TRUE/FALSE depending on whether a manual mode command has been issued.Used in AxisStateMachine.st to handle transitions between manual and automatic mode.Change the ManualCommand assignment as needed.This function allows the AxisStateMachine to remain generic. AutomaticCommand.st Function Unique / dedicated file per axis Returns TRUE/FALSE depending on whether an automatic mode command has been issued.Used in AxisStateMachine.st to handle transitions between manual and automatic mode.Change the AutomaticCommand assignment as needed.This function allows the AxisStateMachine to remain generic. ChangeConfiguration.st Action Referenced file within the AxisTemplate package Sets up the ability to change configuration settings at runtime.Modifications to this action are typically not necessary."},{"location":"axis_cockpit/task_overview/#flow-chart","title":"\ud83d\udd01 Flow Chart","text":"<p>(Flow chart description / diagram follows)</p> <p></p>"},{"location":"axis_cockpit/Optional_Modification/","title":"\ud83d\udcc4Overview","text":""},{"location":"axis_cockpit/Optional_Modification/#optional-modifications","title":"\u2699\ufe0f Optional Modifications","text":"<p>The Framework can be adjusted as needed for the application in any way necessary. This section summarizes some optional modifications that are commonly done to the Framework. </p> <p>\u2022 The Framework comes with the axis template files and one axis already set up (AppAxis_1).   To add an additional axis, see here. </p> <p>\u2022 To rename AppAxis_1 to something that more specifically reflects its purpose, see here. </p> <p>\u2022 The default homing mode defined in the axis configuration is Restore Position.   If the restore position is not valid, then a direct home will be executed instead.   If you prefer to execute a different homing mode in this case, then change line 77 of AxisStateMachine.st from mcHOMING_DIRECT to the desired mode.</p> <p>Topics in this section:</p> <ul> <li>Add aditional axis</li> <li>Rename AppAxis_1</li> <li>SLO Trace Configuration</li> </ul>"},{"location":"axis_cockpit/Optional_Modification/page1/","title":"\ud83d\udcc4Add Additional Axis","text":""},{"location":"axis_cockpit/Optional_Modification/page1/#adding-additional-axis","title":"Adding additional axis","text":"<p>Here are the steps to add a new axis to the project using the provided axis template:</p> <ol> <li>Copy the AxisTemplate package that is located in the MachineControl package of the Logical View. Paste it into the MachineControl package.   </li> <li>Rename the copied package. (Note: for the rest of these steps, the copied package will be referred to as the \"NewAxis\" package.) </li> <li>Rename the contained AxisMgr task to match the new package name. Deploy this task to the Software Configuration.  </li> <li>In AxisInfo.tmx of the NewAxis package:<ol> <li>Change the namespace to something unique (make sure it starts with \"IAT/\").</li> <li>Modify the value of the text ID \u201cName\u201d to describe the axis. </li> </ol> </li> <li>In AxisAlarms.tmx of the NewAxis package:<ol> <li>Change the namespace to something unique.</li> <li>Delete all existing entries. Generic axis alarms are handled by the AxisTemplate package.</li> <li>Add entries to correspond to alarm messages as needed.</li> </ol> </li> <li>In the Configuration View \u2192 TextSystem \u2192TC.textconfig, add the two text files from step 4 and 5 to the \"Tmx files for target\" list.  </li> <li>In the Configuration View, copy/paste AppAxis_1.axis file in the mappMotion package. Re-name the copied file. (Note that the renamed file cannot exactly match the name of the corresponding task in the Logical View.) Then execute the following steps within the copied file:<ol> <li>Re-name the MpLink as desired</li> <li>Update the namespace references in the Alarms section to the namespaces you chose in steps 4.a and 5.a. Alternatively, you can open the .axis file in a text editor and do a find-and-replace. The namespace is identified with the \u2018$\u2019 within the first set of curly brackets. For example: {$Namespace/TextID}    </li> </ol> </li> <li>Optional: If you are planning to run the axis in simulation, then also copy/paste the VAppAxis1.purevaxcfg file from within the AppAxis_1 package in the Configuration View. Then execute the following steps within the pasted file:<ol> <li>Rename the MpLink</li> <li>Assign the axis reference to the MpLink from step 9.a. </li> </ol> </li> <li>In the Logical View \u2192 MachineControl package \u2192 NewAxis package \u2192 AxisMgr.st, update the MpLink reference on line 33 to the name you chose in step 9.a.     </li> <li>In the Configuration View \u2192 mappServices package, copy/paste the AppAxis_1 package. Rename the copied package. Then execute the following steps within the two contained files: <ol> <li>Rename the .mpalarmxcore file accordingly. Within this file, re-name the MpLink. Then in AxisMgr.st on line 42, paste this new MpLink. </li> <li>Rename the .mpcomgroup file accordingly. Within this file: 1.Rename the MpLink of the group accordingly. 2.Change the Child 1 element to match the new MpLink from step 7.a.  3.Change the Child 2 element to match the new MpLink name you created step 10.a. </li> </ol> </li> <li>If you are not running a virtual axis, then in the Physical View, in the drive configuration that corresponds to this axis, set the axis reference to the MpLink you named in step 7.1.     </li> </ol> <p>Note that in a future version of the Framework, this process will be more automated. </p>"},{"location":"axis_cockpit/Optional_Modification/page2/","title":"\ud83d\udcc4Rename AppAxis_1","text":""},{"location":"axis_cockpit/Optional_Modification/page2/#rename-appaxis_1","title":"Rename AppAxis_1","text":"<p>Here are the steps to rename the provided AppAxis_1 to something more specific to the application: </p> <ol> <li>Choose a name that is 10 characters or less.</li> <li>Do a replace-in-files (Edit\u2192 Find and Replace \u2192 Replace in Files) to replace all instances of AppAxis_1 with your new name. Make sure the box for \"Whole words only\" is NOT checked, and the file types filter is set to \".\".  </li> <li>Manually rename the following files/packages in the Logical View \u2192 MachineControl package to your new name:<ol> <li>AppAxis_1 package</li> <li>AppAxis_1 task</li> <li>AppAxis_1_Info.tmx</li> <li>AppAxis_1_Alarms.tmx</li> </ol> </li> <li>In the Configuration View \u2192 Connectivity \u2192 OpcUA, open up Axis.uad in a text editor. On line 36, replace AppAxis_1 with your new name. </li> <li>In the Configuration View \u2192 TextSystem, open up TC.textconfig in a text editor. Replace all instances of AppAxis_1 with your new name (4 instances total). </li> </ol>"},{"location":"axis_cockpit/Optional_Modification/page3/","title":"\ud83d\udcc4SLO Trace Configuration","text":""},{"location":"axis_cockpit/Optional_Modification/page3/#slo-trace-configuration","title":"SLO Trace configuration","text":"<p>Two trace configurations are included in the Axis framework - one for position and the other for speed. Since only one trace configuration can be included in the mapp Cockpit package in the Configuration View at a time, these two trace configurations are delivered via the UserPartition\\Axis package in the Logical View:</p> <p></p> <p>To use these files (one at a time), follow these steps: </p> <ol> <li>From Windows Explorer, copy the preconfigured .tracecfg file that you'd like to use to the mappCockpit folder in the Configuration View. (AS won't allow you to copy the file directly)    </li> <li>Open up the trace configuration file within the mappCockpit package. Update the \"Data point\" station address entries according to the drive you want to trace.     </li> <li>The rest of the trace implementation is done in mapp Cockpit. See here and here. In short, select \"Autotune\" (for either the speed controller or position controller, depending on which trace configuration you're using) and then turn the \"Signal order\" up to 11.     </li> <li>To use the second preconfigured trace file, delete the first file you traced from the mappCockpit package and then start over from step 1. </li> </ol>"},{"location":"axis_cockpit/Optional_Modification/page4/","title":"Page4","text":""},{"location":"axis_cockpit/Optional_Modification/page4/#adding-additional-queries","title":"Adding Additional Queries","text":"<p>The ExecuteQuery.st action file contains the programming required to execute the query that comes with the Framework, the ActivateAlarms query.</p> <p>It also contains the supporting state machine that is used to query large amounts of data.</p> <p>If you would like to add an additional query, the following steps are required.</p>"},{"location":"axis_cockpit/Optional_Modification/page4/#1-alarmmgrvar","title":"1. AlarmMgr.var","text":"<ol> <li> <p>Copy and paste the variable declaration for QueryActiveAlarms and give it a unique name.    Each query needs a dedicated function block instance.</p> </li> <li> <p>Copy and paste the variable declaration for AlarmQuery and give it a unique name.</p> </li> </ol>"},{"location":"axis_cockpit/Optional_Modification/page4/#2-alarmxcfgmpalarmxcore-configuration-file","title":"2. AlarmXCfg.mpalarmxcore configuration file","text":"<ol> <li> <p>Define the new query in the Data Queries section at the bottom of the configuration file.    Give it a unique name.</p> </li> <li> <p>Use the new query variable created in step 1.2 for the process variable connections and update count.</p> </li> </ol>"},{"location":"axis_cockpit/Optional_Modification/page4/#3-executequeryst","title":"3. ExecuteQuery.st","text":"<p>Copy and paste lines 3\u201347 of ExecuteQuery.st to duplicate the code.Then within the copied code:</p> <ol> <li>Replace every instance of QueryActiveAlarms with the new function block name created in step 1.1.</li> <li>Replace the query name assignment with the name of the new query created in step 2.1.<ul> <li>NewQueryFUB.Name := ADR('NewQueryNameFromStep2.1');</li> </ul> </li> <li> <p>Replace every instance of AlarmQuery with the new variable name created in step 1.2.</p> </li> <li> <p>If you would like the new query to run only based on a button press:</p> </li> <li>Add a new boolean within HmiAlarmX.Commands for the new trigger.</li> <li>Update the IF statement accordingly within the ACTIVE_ALARM_WAIT state.</li> </ol> <p>Repeat these steps for all additional queries.</p>"},{"location":"axis_cockpit/Optional_Modification/page5/","title":"Page5","text":""},{"location":"axis_cockpit/Optional_Modification/page5/#adding-additional-queries","title":"Adding Additional Queries","text":"<p>The ExecuteQuery.st action file contains the programming required to execute the query that comes with the Framework, the ActivateAlarms query.</p> <p>It also contains the supporting state machine that is used to query large amounts of data.</p> <p>If you would like to add an additional query, the following steps are required.</p>"},{"location":"axis_cockpit/Optional_Modification/page5/#1-alarmmgrvar","title":"1. AlarmMgr.var","text":"<ol> <li> <p>Copy and paste the variable declaration for QueryActiveAlarms and give it a unique name.    Each query needs a dedicated function block instance.</p> </li> <li> <p>Copy and paste the variable declaration for AlarmQuery and give it a unique name.</p> </li> </ol>"},{"location":"axis_cockpit/Optional_Modification/page5/#2-alarmxcfgmpalarmxcore-configuration-file","title":"2. AlarmXCfg.mpalarmxcore configuration file","text":"<ol> <li> <p>Define the new query in the Data Queries section at the bottom of the configuration file.    Give it a unique name.</p> </li> <li> <p>Use the new query variable created in step 1.2 for the process variable connections and update count.</p> </li> </ol>"},{"location":"axis_cockpit/Optional_Modification/page5/#3-executequeryst","title":"3. ExecuteQuery.st","text":"<p>Copy and paste lines 3\u201347 of ExecuteQuery.st to duplicate the code.Then within the copied code:</p> <ol> <li>Replace every instance of QueryActiveAlarms with the new function block name created in step 1.1.</li> <li>Replace the query name assignment with the name of the new query created in step 2.1.<ul> <li>NewQueryFUB.Name := ADR('NewQueryNameFromStep2.1');</li> </ul> </li> <li> <p>Replace every instance of AlarmQuery with the new variable name created in step 1.2.</p> </li> <li> <p>If you would like the new query to run only based on a button press:</p> </li> <li>Add a new boolean within HmiAlarmX.Commands for the new trigger.</li> <li>Update the IF statement accordingly within the ACTIVE_ALARM_WAIT state.</li> </ol> <p>Repeat these steps for all additional queries.</p>"},{"location":"backup/","title":"General","text":""},{"location":"backup/#mapp-backup-framework","title":"\ud83d\udcbe mapp Backup Framework","text":"<p>This section describes the mapp Backup Framework. For full details on mapp Backup itself, see here.</p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Task Overview</li> <li>Required Modification</li> <li>Optional Modification</li> </ul>"},{"location":"backup/features/","title":"\ud83d\udcc4Features","text":""},{"location":"backup/features/#mapp-backup-framework-features","title":"\ud83d\udcbe mapp Backup Framework Features","text":"<p>The following features and functionality are included in the mapp Backup Framework:  </p> <p>\u2022 Easily create and restore a backup from the HMI </p> <p>\u2022 View a list of all available backups from the HMI </p> <p>\u2022 Choose whether to automatically back up the project at a certain interval </p>"},{"location":"backup/features/#access-rights","title":"\ud83d\udd10 Access Rights","text":"<p>The ability to restore a backup or change the automatic backup settings on the mapp View HMI is restricted to the Administrators role.  </p> <p>The ability to delete a backup is restricted to the Administrators or Service role.  </p> <p>The default administrative user is Admin with default password 123ABc. The password must be changed after import.  </p>"},{"location":"backup/features/#i-note","title":"\u2139\ufe0f Note","text":"<p>Note that the list of available backups only updates when the Backup_content is loaded.</p>"},{"location":"backup/optional_modification/","title":"\ud83d\udcc4Optional Modification","text":""},{"location":"backup/optional_modification/#optional-modifications","title":"\u2699\ufe0f Optional Modifications","text":"<p>The Framework can be adjusted as needed for the application in any way necessary. This section summarizes some optional modifications that are commonly done to the Framework. </p> <p>\u2022 In the CPU configuration, modify the mappBackupFiles file device to the desired storage medium.   By default, this corresponds to the User partition (F:\\Backup).</p> <p>-&gt; If you do, modify or delete lines 10\u201316 of the BackupMgr.st INIT program, which creates the directory F:\\Backup if it does not already exist.</p>"},{"location":"backup/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"backup/required_modification/#required-modifications","title":"\ud83d\udd27 Required Modifications","text":"<p>The Framework by default provides a solid foundation, but in order to integrate it fully into your application there are a few modifications that must be made.The following list of modifications are required to get the Framework in a functional state within the application.</p> <p>\ud83d\udea8 IMPORTANT: The steps on this page must be executed in order to get the Framework into a functional state!</p> <ol> <li> <p>Change the passwords for the Admin, Operator, and Service_Tech users.    This is done in the User.user file in the Configuration View  (AccessAndSecurity \u2192 UserRoleSystem \u2192 User.user).     Note that if you already had users in your project with these same names prior to import, your existing users will remain unchanged and you do not need to update the passwords.</p> </li> <li> <p>The Backup Framework uses retained variables, which require nonzero remanent memory. This must be configured in the CPU memory configuration if it is not already configured.</p> </li> <li> <p>If you imported the mapp View front end with the Framework:</p> <ol> <li> <p>Assign the mapp View content   (content ID = Backup_content) to an area on a page within your visualization. </p> </li> <li> <p>The ability to restore a backup or change the automatic backup settings on the mapp View HMI is restricted to the Administrators role.    The ability to delete a backup is restricted to the Administrators or Service role.   Therefore, add a way to log in on the HMI (for example, by importing the mapp UserX framework).</p> </li> </ol> </li> <li> <p>If you did not import the mapp View front end with the Framework, connect the HmiBackup structure elements to your visualization accordingly. </p> </li> </ol>"},{"location":"backup/task_overview/","title":"\ud83d\udcc4Task Overview","text":""},{"location":"backup/task_overview/#backupmgr-task-overview","title":"\ud83d\udcbe BackupMgr Task Overview","text":"<p>The BackupMgr task contains all of the provided Framework code for mapp Backup. This task is located in the Logical View within the Infrastructure package.</p> <p>The BackupMgr task is deployed to Task Class 8 by the Import Tool.</p>"},{"location":"backup/task_overview/#task-files","title":"\ud83d\udcc4 Task Files","text":"Filename Type Description BackupMgr.st Main task code General mapp function block handling.This task contains all of the necessary code to create, restore, and delete a backup of the program. HMIActions.st Action Supporting code for HMI functionality.Loads and saves the backup configuration.Handles the file manager. ChangeConfiguration.st Action Contains the programming to modify the backup configuration at runtime.Modifications to this action are typically not necessary."},{"location":"backup/task_overview/#localizable-alarm-texts","title":"\u2699\ufe0f Localizable Alarm Texts","text":"<p>A localizable text file for the mapp Backup alarms is included within the Backup package (BackupAlarms.tmx).</p> <p>These alarm texts are referenced in the mapp Backup configuration instead of the default alarm texts provided by mapp Services, which makes it easier for you to expand the texts to include the language of your choice.</p>"},{"location":"file/","title":"General","text":""},{"location":"file/#mapp-file-framework","title":"\ud83d\udcc2 mapp File Framework","text":"<p>This section describes the mapp File Framework. For full details on mapp File itself, see here.</p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Task Overview</li> <li>Required Modification</li> <li>Optional Modification</li> <li>FIFO</li> </ul>"},{"location":"file/features/","title":"\ud83d\udcc4Features","text":""},{"location":"file/features/#mapp-file-framework-features","title":"\ud83d\udcc1 mapp File Framework Features","text":"<p>The following features and functionality are included in the mapp File Framework:  </p> <p>\u2022 General file explorer functionality on the HMI</p> <p>o Create / delete / sort / rename / search / copy / etc</p> <p>\u2022 The ability to enable a FIFO for one file device.For more details, see here.</p>"},{"location":"file/features/#access-rights","title":"\ud83d\udd10 Access Rights","text":"<p>The ability to cut / delete a file and configure the FIFO on the mapp View HMI is restricted to the Administrators or Service role.</p> <p>The default administrative user is Admin with default password 123ABc. The password must be changed after import.</p>"},{"location":"file/fifo/","title":"\ud83d\udcc4FIFO","text":""},{"location":"file/fifo/#fifo-first-in-first-out-functionality","title":"\ud83d\udcc1 FIFO (First-In-First-Out) Functionality","text":"<p>The mapp File Framework comes with the option of enabling a FIFO (first-in-first-out) for a file device of your choosing. </p> <p>There are a few key details regarding this feature:</p> <p>\u2022 The FIFO deletes the oldest files once the file device starts filling up.  There are two configuration options for you to define what \"filling up\" means for your application. A dialog box on the HMI allows you to choose between the following:</p> <ol> <li> <p>Define a maximum memory size and delete the oldest file once the total file device contents exceeds this size. </p> </li> <li> <p>Define a maximum number of files and delete the oldest file once the number of files on the file device exceeds this value. </p> </li> </ol> <p>\u2022 The user must select one file device for the FIFO to be active on. </p> <p>\u2022 Once activated, the FIFO will check this file device periodically for size and number of files. </p> <p>\u2022 The FIFO will monitor all files in the root directory of the selected file device.Files contained within any sub-folders will not be checked. </p>"},{"location":"file/optional_modification/","title":"\ud83d\udcc4Optional Modification","text":""},{"location":"file/optional_modification/#optional-modifications","title":"\u2699\ufe0f Optional Modifications","text":"<p>The Framework can be adjusted as needed for the application in any way necessary. This section summarizes some optional modifications that are commonly done to the Framework. </p> <p>\u2022 N/A</p>"},{"location":"file/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"file/required_modification/#required-modifications","title":"\ud83d\udd27 Required Modifications","text":"<p>The Framework by default provides a solid foundation, but in order to integrate it fully into your application there are a few modifications that must be made. The following list of modifications are required to get the Framework in a functional state within the application.</p> <p>\ud83d\udea8 IMPORTANT: The steps on this page must be executed in order to get the Framework into a functional state! </p> <ol> <li> <p>Change the passwords for the Admin, Operator, and Service_Tech users.    This is done in the User.user file in the Configuration View (AccessAndSecurity \u2192 UserRoleSystem \u2192 User.user).    Note that if you already had users in your project with these same names prior to import, your existing users will remain unchanged and you do not need to update the passwords.</p> </li> <li> <p>The File Framework uses retained variables, which require nonzero remanent memory. This must be configured in the CPU memory configuration if it is not already configured.</p> </li> <li> <p>If you imported the mapp View front end with the Framework:</p> <ol> <li> <p>Assign the mapp View content (content ID = File_content) to an area on a page within your visualization.</p> </li> <li> <p>The ability to cut / delete a file and configure the FIFO on the mapp View HMI is restricted to the Administrators or Service role. Therefore, add a way to log in on the HMI (for example, by importing the mapp UserX framework).</p> </li> </ol> </li> <li> <p>If you did not import the mapp View front end with the Framework, connect the HmiFile structure elements to your visualization accordingly.</p> </li> </ol>"},{"location":"file/task_overview/","title":"\ud83d\udcc4Task Overview","text":""},{"location":"file/task_overview/#filemgr-task-overview","title":"\ud83d\udcc1 FileMgr Task Overview","text":"<p>The FileMgr task contains all of the provided Framework code for mapp File. This task is located in the Logical View within the Infrastructure package.</p> <p>The FileMgr task is deployed to Task Class 8 by the Import Tool.</p>"},{"location":"file/task_overview/#task-files","title":"\ud83d\udcc4 Task Files","text":"Filename Type Description FileMgr.st Main task code General mapp function block handling.Calls all actions. HMIActions.st Action Handles the file explorer operations for the HMI.Note that full use of this file explorer is exclusive to administrative users. FIFOOperations.st Action Handles the implementation of the FIFO (first-in-first-out) for the selected file device."},{"location":"file/task_overview/#localizable-alarm-texts","title":"\u2699\ufe0f Localizable Alarm Texts","text":"<p>A localizable text file for the mapp File alarms is included within the File package (FileAlarms.tmx).</p> <p>These alarm texts are referenced in the mapp File manager UI configuration instead of the default alarm texts provided by mapp Services, which makes it easier for you to expand the texts to include the language of your choice.</p>"},{"location":"general/","title":"General","text":"<p>mapp Framework</p> <p>This section contains information that is relevant for all of the mapp Frameworks. </p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Introduction</li> <li>Support &amp; B&amp;R Community project</li> <li>System Requirements</li> <li>Prerequisites</li> <li>Launching the Importer</li> <li>User Partition Handling</li> <li>Visualization Considerations</li> <li>Version Information</li> </ul>"},{"location":"general/Prerequisities/","title":"\ud83d\udcc4Prerequisites","text":""},{"location":"general/Prerequisities/#prerequisites","title":"Prerequisites","text":"<p>It is expected that the user has a base knowledge of Automation Studio and mapp Technology before utilizing the mapp Framework. Therefore, the following training courses are recommended as prerequisites: </p> <ul> <li>SEM210 - Automation Studio </li> <li>SEM270 - mapp Services </li> <li>SEM611 - mapp View</li> <li>SEM415 - mapp Axis</li> </ul> <p>The mapp Framework is designed and intended to be used by B&amp;R/partner application engineers and customer application engineers alike. In other words, any mapp Technology user can utilize the mapp Framework. </p>"},{"location":"general/Support/","title":"\ud83d\udcc4Support/Community project","text":""},{"location":"general/Support/#community-driven-resource","title":"Community Driven Resource","text":"<p>The mapp Framework is a community driven and open source resource. Input from the community is used to continually refine and improve the mapp Framework. It is not an official product from B&amp;R.</p> <p>The GitHub repository that holds the Framework source project is available at: link</p> <p>Application engineers can suggest modifications or new functionality directly via GitHub. In this way, the mapp Framework is constantly evolving and improving through community input.</p> <p>The mapp Framework uses standard mapp components, and general questions about mapp should continue to be directed to local B&amp;R support.</p> <p>Because the Framework itself is community driven, questions related specifically to the mapp Framework should be asked in the B&amp;R Community forum - B&amp;R Community - mapp Framework</p> <p>This project is not part of official B&amp;R R&amp;D development and is not covered by official B&amp;R support, maintenance contracts, or product roadmaps.</p>"},{"location":"general/introduction/","title":"\ud83d\udcc4Introduction","text":""},{"location":"general/introduction/#overview","title":"Overview","text":"<p>mapp Technology is the overarching term for the ready-made, modular software products at B&amp;R. This technology enables you to implement complex or tedious features (such as a recipe system) with just a few mapp function blocks and configuration settings rather than creating it from scratch with PLCopen.</p> <p>By using mapp Technology you can complete your application development up to three times faster, with significantly less code than if you wrote it entirely with PLCopen.</p> <p>The mapp Framework takes mapp Technology one step further to provide the user with a universal starting point for mapp Technology. This even further reduces the amount of application code that must be written by the application engineer.</p> <p>The Framework includes programming tasks and supporting configuration files with built-in best practices and application know-how. It is designed to be modular, so the user can easily add the specific parts that are relevant to the machine to an existing project.</p>"},{"location":"general/introduction/#motivation-and-goals","title":"Motivation and Goals","text":"<p>The overall goal of the mapp Framework is to streamline and simplify your mapp Services and Axis implementation.</p> <p>More specifically, the goals are:</p> <p>Quality - The Framework is designed with best practices in mind, which have been vetted by several experienced application engineers - The goal is to set each mapp user up for success</p> <p>Time Savings - By giving users a reliable starting point, the learning curve of mapp Technology is reduced - New engineers can ramp up faster - Quicker time to market</p> <p>Simplicity - The mapp Framework is modular without being overly complex - With a standardized approach to mapp Technology, application support, hand-off, and code maintenance become more straightforward - The framework is scalable according to the needs of the application</p> <p>Cost Savings - Use of the Framework results in cost savings for the machine due to reduced application engineering time</p>"},{"location":"general/introduction/#youtube-tutorial-videos","title":"YouTube Tutorial Videos","text":"<p>Short tutorial videos for each component of the mapp Framework are available in a dedicated playlist on the B&amp;R YouTube channel - link.</p> <p>These tutorial videos supplement the written documentation.</p>"},{"location":"general/introduction/#availability","title":"Availability","text":"<p>A mapp Framework is currently available for the following mapp Technologies:</p> <ul> <li>mapp AlarmX</li> <li>mapp Audit</li> <li>mapp Axis</li> <li>mapp Backup</li> <li>mapp File</li> <li>mapp PackML</li> <li>mapp Recipe</li> <li>mapp Report</li> <li>mapp UserX</li> </ul> <p>A corresponding HMI is available in mapp View and VC4.</p>"},{"location":"general/introduction/#framework-contents","title":"Framework Contents","text":"<p>Each mapp Framework contains the following:</p> <ul> <li>Logical View task(s)</li> <li>Configuration file(s)</li> <li>Help files</li> </ul> <p>The supporting Help pages are individualized for each mapp Framework. These pages identify what is included in the framework and any changes that are necessary to properly embed the framework into an existing application.</p> <p>The documentation focuses on the Framework itself and not on the fundamentals of mapp Services or mapp Motion.</p> <p>For details on the fundamentals of mapp Technology, refer to the respective Help sections: - Services \u2192 mapp Services - Motion control \u2192 mapp Motion</p> <p>IMPORTANT: Every mapp Framework Help section contains a page titled \"Required Modifications\". The steps on this page must be executed to bring the Framework into a functional state.</p> <p>MIT License</p> <p>Copyright (c) 2022 B&amp;R Industrial Automation</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files, to deal in the Software without restriction, including the rights to use, copy, modify, merge, publish, distribute, sublicense, and or sell copies of the Software.</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>The Software is provided \"as is\", without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, fitness for a particular purpose and noninfringement.</p> <p>In no event shall the authors or copyright holders be liable for any claim, damages or other liability arising from the use of the Software.</p>"},{"location":"general/launching/","title":"\ud83d\udcc4Launching the Importer","text":""},{"location":"general/launching/#launching-the-importer","title":"Launching the importer","text":"<p>IMPORTANT:</p> <p>After installing the mapp Framework, close and re-open Automation Studio before you try to launch the importer. </p> <p>You must close the software configuration and CPU configuration before performing an import.</p> <p>To launch the mapp Framework import tool within Automation Studio, first make sure to set a version for the Framework in Project -&gt; Change Runtime Versions: </p> <p></p> <p>Then navigate to Tools \u2192 mapp Framework Importer: </p> <p></p> <p>Notes: </p> <ul> <li>If you don't see this menu option after installing the Framework, then please close and re-open Automation Studio. </li> <li>If this menu option is grayed out, then the version number has not yet been set in Change Runtime Versions. </li> <li>It is recommended to close all open tabs before launching the importer. </li> <li>You can only import mapp Framework components to the active configuration. </li> </ul>"},{"location":"general/system_requirement/","title":"\ud83d\udcc4System Requirements","text":"<p>Supported Versions</p> <p>The mapp Framework is supported in the following versions.</p> <p>mapp Technologies and Automation Studio</p> mapp Technologies Automation Studio 5.16 or later 4.10 - 4.12 <p>Note that the framework uses some retained variables.</p>"},{"location":"general/user_partition/","title":"Default User Partition Files","text":"<p>The Framework contains a few default files (e.g. recipe files) that need to be transferred to the user partition via an offline install or FTP access. These files are located in the Logical View within the \"UserPartition\" package.</p> <p>(If the user changed the mapp Framework file devices to correspond to a location other than the user partition, then these files need to be placed in that new location instead.)</p> <p></p>"},{"location":"general/visualization_consideration/","title":"mapp View / VC4","text":"<p>The mapp Framework offers the choice between either a mapp View front end or a VC4 front end.Select your preference via the dropdown in the import tool.You can also select to import no visualization and just get the backend code.</p> <p>The mapp View visualization supports a modular import.You will only get the visualization files for the framework components that you choose to import.</p> <p>On the contrary, the VC4 visualization is all-or-nothing. If you import just mapp AlarmX and select the VC4 front end, the VC4 visualization will include pages for all available framework components. You will then need to delete the VC4 pages that are not relevant to you.</p> <p></p>"},{"location":"general/visualization_consideration/#interface-to-the-hmi","title":"Interface to the HMI","text":"<p>Each mapp Framework has a structure variable for commands, parameters, and status information from the HMI.</p> <p>This variable name always starts with Hmi followed by the mapp Technology. Example: HmiRecipe</p> <p>Note: The only exception is the Axis framework, where the HMI is linked directly to the AxisCommands structure.</p> <p>This is because: - in manual mode the commands come from the HMI - in automatic mode the commands are triggered directly in the application</p> <p>To avoid creating an intermediate structure just for the sake of the HMI, the HMI interacts directly with AxisCommands.</p> <p>Similarly, each mapp Framework has an action file called HMIActions.st, which contains all programming related to the HMI interface.</p>"},{"location":"general/visualization_consideration/#mapp-view-demo-page","title":"mapp View Demo Page","text":"<p>A mapp View demo page is included in the mapp Framework so that you can quickly and easily navigate through all the imported contents in Chrome.</p> <p>This page is intended for demonstration purposes only. It is not intended to be used in the final application.</p> <p>If you do not yet have a mapp View visualization when you import the Framework: - the Demo page is assigned as the start page</p> <p>If you have an existing mapp View application that the Framework merges into: - the Demo page is added to the pages list - you must add navigation to this page yourself</p>"},{"location":"general/visualization_consideration/#access-rights","title":"Access Rights","text":"<p>The following functionality on the mapp View front end is restricted to the following roles.</p>"},{"location":"general/visualization_consideration/#access-rights-matrix","title":"Access Rights Matrix","text":"Framework Component Feature Administrators Service Operators Everyone Audit Configure the automatic archive export X Audit Create an immediate export X X Backup Restore a backup, change the automatic backup settings X Backup Delete a backup X X File Cut / delete files and configure the FIFO X X Recipe Create, edit, delete a recipe X X Recipe Load a recipe X X X Report Delete a report X X UserX View the user list, edit, add, delete, import, export users X Axis Use the axis faceplate X X X"},{"location":"general/visualization_consideration/#default-administrative-user","title":"Default Administrative User","text":"<p>The default administrative user is Admin.</p> <p>The default password is 123ABc.</p> <p>Important:</p> <p>The password must be changed after import.</p>"},{"location":"general/Version_information/","title":"Version Information","text":"<p>This section describes the new features in each version of the mapp Framework. The mapp Framework versioning system follows the versioning scheme of mapp Technology: </p> <p>Major.Minor.Bugfix</p> <p>Topics in this section:</p> <ul> <li>Version 1.5</li> <li>Version 1.4</li> <li>Version 1.3</li> <li>Version 1.2</li> <li>Version 1.1</li> <li>Version 1.0</li> </ul>"},{"location":"general/Version_information/version_1_0/","title":"\ud83d\udcc4Version 1.0","text":""},{"location":"general/Version_information/version_1_0/#v102","title":"v1.0.2","text":"Framework / Component Description mapp AlarmX No changes mapp Axis / Cockpit - Removed the unnecessary <code>MC_BR_CheckRestorePositionData</code> function block and now use the <code>IsHomed</code> output- Updated stop deceleration mapp Backup - Added page up/down to the file list on the mapp View HMI- Improved file list to display more than 10 backup files mapp File - Fixed FIFO behavior when more than 50 files are present or when max file count is set above 50- Added page up/down to the file list on the mapp View HMI mapp Recipe - Show the name of the selected recipe in addition to the active recipe- Reset recipe values before loading a new recipe mapp UserX No changes Import Tool - Aesthetic improvements- Block interaction with Automation Studio while the Import Tool is open- Clear indication that selecting Axis Framework also requires AlarmX and Recipe Frameworks Documentation - Clearer indication of actions restricted to administrative access- Fixed broken links in the German Help- Added description of the community-based approach- Added description of the support strategy- Added GitHub link Miscellaneous - Added MIT open source license to the project, GitHub repository, and Help file- Changed development project to AS 4.8- Improved USB handling code"},{"location":"general/Version_information/version_1_0/#v101","title":"v1.0.1","text":"Framework / Component Description mapp AlarmX No changes mapp Axis / Cockpit Bugfixes:- Fixed manual mode set speed and stop deceleration connections- Fixed bug in manual mode stopping behavior- Fixed state variable capitalization- Added units to datapoints mapp Backup No changes mapp File No changes mapp Recipe No changes mapp UserX No changes Import Tool New behavior:- Framework no longer sets the version number automatically in Change Runtime Versions; this must now be set manuallyBugfix:- Fixed issue where the importer would not launch if Automation Studio was not installed in <code>C:\\BrAutomation\\</code>"},{"location":"general/Version_information/version_1_0/#v100","title":"v1.0.0","text":"Framework / Component Description mapp AlarmX First release mapp Axis / Cockpit First release mapp Backup First release mapp File First release mapp Recipe First release mapp UserX First release Import Tool First release"},{"location":"general/Version_information/version_1_1/","title":"\ud83d\udcc4Version 1.1","text":""},{"location":"general/Version_information/version_1_1/#v110","title":"v1.1.0","text":"Framework / Component Description mapp AlarmX Fixed MpLink error on <code>MpAlarmXListUI</code> and <code>MpAlarmXHistoryUI</code> mapp Audit New framework component mapp Axis / Cockpit - Automatically reset the axis function block when all related alarms are acknowledged- Added a status bar for the axis faceplate- Added a move velocity command to the axis faceplate mapp Backup - Show a pop-up when a new automatic backup is available- Removed the backup size from the HMI mapp File - Made the FIFO configuration persistent- Fixed FIFO deletion behavior when more than 50 files are on the monitored file device- Prevent editing the FIFO configuration while FIFO is actively deleting files- Added a visual indicator on the HMI showing which file device has FIFO activated mapp Recipe Improved the implementation of the preview window on the HMI mapp UserX - Fixed the EditUser SVG so <code>imageColor</code> can be changed correctly- Warn the user when exporting a user list with the same filename as an existing file- Updated configuration settings to better align with 21 CFR Part 11 mapp View - Resolved benign mapp View errors in the logbook- Standardized all main content sizes Import Tool - Improved import functionality- Improved organization of the selection page- Improved overall aesthetics- Updated to AS API 4.0 (requires AS 4.10 \u2013 AS 4.12) Documentation Improvements to the German translation of the Help Miscellaneous Removed all usage of <code>TON_10ms</code>"},{"location":"general/Version_information/version_1_2/","title":"\ud83d\udcc4Version 1.2","text":""},{"location":"general/Version_information/version_1_2/#v120","title":"v1.2.0","text":"Framework / Component Description mapp Audit - Fixed the automatic archive implementation- Made the automatic archive settings persistent mapp Axis / Cockpit Reorganized the <code>MoveVelocity</code> parameter mapp Backup - Fixed permissions issue with the Create button when no backups existed on the file device- Improved the behavior of the info box on the mapp View content- Made the automatic backup settings persistent mapp File Improved the FIFO state machine mapp Report New framework component mapp UserX Automatically refresh the UserX content after importing a user list mapp View - Improved some German translations and text visibility- Added the new B&amp;R logo as the boot logo Import Tool - Optimizations to reduce the <code>.exe</code> file size- Changes to reduce the likelihood of import errors:\u00a0\u00a0- \u201cThe process cannot access the file '...Visualizat.vis' because it is being used by another process.\u201d\u00a0\u00a0- \u201cError adding, Operation failed 0\u201d Miscellaneous - Unified tabs vs. spaces implementation (tabs)- Removed <code>MachineGrp.mpcomgroup</code>"},{"location":"general/Version_information/version_1_3/","title":"\ud83d\udcc4Version 1.3","text":""},{"location":"general/Version_information/version_1_3/#v131","title":"v1.3.1","text":"Framework / Component Description mapp Axis - Improved documentation describing the requirements for converting from a pure virtual axis to a physical axis- Fixed missing type member for v1.3 (<code>ModeManual</code>) in the <code>AxisMgr.typ</code> file within the AxisTemplate Miscellaneous Improved transfer robustness when using transfer settings \u201cKeep PV Values\u201d together with \u201cInstallation during task operation\u201d"},{"location":"general/Version_information/version_1_3/#v130","title":"v1.3.0","text":"Framework / Component Description mapp AlarmX Added a Python script to export/import the alarm configuration to/from Excel mapp Axis / Cockpit - Enhanced the Automatic Mode mapp View content- Added configuration support for SLO traces mapp Backup - Added visual feedback indicating that a backup is in progress (preventing parallel triggers)- Fixed automatic refresh of the backup list when an automatic backup is generated mapp File Added more HMI feedback to indicate invalid operations mapp Recipe - Fixed the popup warning about a missing default recipe so it no longer appears twice- Improved behavior of the recipe page up/down buttons- Prevented deletion of the default recipe mapp Report Added the ability to sort the file list on the HMI mapp UserX - Added confirmation popup when deleting a user- Added visual indication that the Anonymous user cannot be deleted- Added popup informing users when they are automatically logged out mapp View - Standardized widget naming conventions across all frameworks- Standardized AlarmX and Audit list columns- Standardized button icons and button sizes across the HMI- Organized and minimized required SVG images- Added popup explaining why disabled buttons cannot be clicked (insufficient rights or current state) Import Tool - Added option to back up the project as a <code>.zip</code> file prior to import- Added direct integration to the framework section in the Help (manual open button and automatic open option after import)- Import the <code>UsbMgr</code> task if the Backup framework is imported on its own Miscellaneous - Updated file device implementation to use <code>USER_PATH</code> instead of <code>F:\\</code>- Minimum supported AR version is now A4.91 due to use of <code>USER_PATH</code>"},{"location":"general/Version_information/version_1_4/","title":"\ud83d\udcc4Version 1.4","text":""},{"location":"general/Version_information/version_1_4/#v140","title":"v1.4.0","text":"Framework / Component Description VC4 Added a new VC4 front end for all available framework components mapp Axis / Cockpit - Updated reference file organization to simplify adding additional axes- Updated conditions for entering the READY state (checks whether Parameter and/or Configuration change options are used and waits until completion)- Separated the <code>HomeRestorePos</code> variable to simplify adding additional axes- Added an alarm line to the mapp View front end mapp PackML New framework component mapp Recipe Improved the process for editing default recipe names mapp Report Bugfix \u2013 advanced reports were being created as simple reports Import Tool - Updates to support the VC4 front end option- Automatically increase the stack size of task class 8- Bugfix \u2013 TrakMap was not importing correctly via the framework importer Documentation Improved the German translation of the Help file"},{"location":"general/Version_information/version_1_5/","title":"\ud83d\udcc4Version 1.5","text":""},{"location":"general/Version_information/version_1_5/#v150","title":"v1.5.0","text":"Framework / Component Description mapp Audit Improved the usability of the audit configuration dialog box mapp Axis / Cockpit The AxisMgr template task is now not added to the software configuration. Previously it was added automatically but disabled. mapp File Improved the usability of the FIFO dialog box mapp Recipe General reorganization and optimization to make the recipe system more robust and easier to extend Import Tool - Import file device definitions depending on the AR version- Support for AR &lt; A4.91 (<code>F:\\</code>) and AR \u2265 A4.91 (<code>USER_PATH</code>)- Allow mixing mapp versions starting from 5.24- Improved error message when import fails after <code>git reset</code>- Detect <code>.vis</code> files also in sub-packages of the mapp View package Misc Updated to the new mapp Framework logo"},{"location":"packml/","title":"General","text":""},{"location":"packml/#mapp-packml-framework","title":"\ud83d\udd01 mapp PackML Framework","text":"<p>This section describes the mapp PackML Framework. For full details on mapp PackML itself, see here.</p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Task Overview</li> <li>Required Modification</li> <li>Optional Modification</li> </ul>"},{"location":"packml/features/","title":"\ud83d\udcc4Features","text":""},{"location":"packml/features/#mapp-packml-framework-features","title":"\ud83d\udd01 mapp PackML Framework Features","text":"<p>The following features and functionality are included in the mapp PackML Framework:</p> <ul> <li>Easily view and command PackML machine states via HMI</li> <li>Basic state machine containing all PackML states, where the user may add machine functionality</li> </ul>"},{"location":"packml/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"packml/required_modification/#required-modifications","title":"\ud83d\udd27 Required Modifications","text":"<p>The Framework by default provides a solid foundation, but in order to integrate it fully into your application, a few modifications must be made.</p> <p>The following list of modifications is required to get the Framework into a functional state within the application.</p> <p>\ud83d\udea8 IMPORTANT: The steps on this page must be executed in order to get the Framework into a functional state.</p>"},{"location":"packml/required_modification/#1-change-default-user-passwords","title":"1. Change default user passwords","text":"<p>Change the passwords for the Admin, Operator, and Service_Tech users.</p> <p>This is done in the User.user file in the Configuration View (AccessAndSecurity \u2192 UserRoleSystem \u2192 User.user).</p> <p>If users with the same names already existed in the project prior to importing the Framework, those users will remain unchanged and the passwords do not need to be updated.</p>"},{"location":"packml/required_modification/#2-integrate-the-hmi-content","title":"2. Integrate the HMI content","text":"<p>If you imported the mapp View front end with the Framework, assign the mapp View content (content ID = PackML_content) to an area on a page within your visualization.</p> <p>If you did not import the mapp View front end, connect the HmiPackML structure elements to your visualization accordingly (see here for more details).</p>"},{"location":"packml/required_modification/#3-implement-the-packml-state-machine","title":"3. Implement the PackML state machine","text":"<p>The action file StateMachine_Main.st under PackMLMgr contains an empty state machine that the user may fill out.</p> <p>This state machine contains: * Actions for each PackML state of the PackMLMain module * A line of code indicating which states require a StateComplete command to move on to the next state</p> <p>The user should add actions for each state before a StateComplete command is sent.</p> <p>In the mpPACKML_STATE_COMPLETING state, a temporary line of code has been added to allow the empty state machine to function.</p> <p>This temporary line of code should be removed and the StateComplete command uncommented once the user has added the required code for this state.</p>"},{"location":"packml/task_overview/","title":"\ud83d\udcc4Task Overview","text":""},{"location":"packml/task_overview/#packmlmgr-task-overview","title":"\ud83d\udd01 PackMLMgr Task Overview","text":"<p>The PackMLMgr task contains all of the provided Framework code for mapp PackML. This task is located in the Logical View within the PackML package.</p> <p>The chart below provides a description of the main task and each action file.</p>"},{"location":"packml/task_overview/#task-files","title":"\ud83d\udcc4 Task Files","text":"Filename Type Description PackMLMgr.st Main task code General mapp function block handling.Calls all actions. HMIActions.st Action Supporting code for HMI functionality. StateMachine_Main.st Action Empty state machine for the main module of the machine.Contains basic functionality to allow the user to move through PackML states.Machine-specific code may be added here."},{"location":"packml/task_overview/#localizable-alarm-texts","title":"\u2699\ufe0f Localizable Alarm Texts","text":"<p>A localizable text file for the mapp PackML alarms is included within the PackML package (PackMLAlarms.tmx).</p> <p>These alarm texts are referenced in the mapp PackML configuration instead of the default alarm texts provided by mapp Services. This makes it easier to expand the alarm texts to include the language of your choice.</p>"},{"location":"packml/Optional_Modification/","title":"\ud83d\udcc4Overview","text":""},{"location":"packml/Optional_Modification/#optional-modifications","title":"\u2699\ufe0f Optional Modifications","text":"<p>The Framework can be adjusted as needed for the application in any way necessary.</p> <p>This section summarizes some optional modifications that are commonly done to the Framework.</p> <p>In the CPU configuration, modify the mappPackMLFiles file device to the desired storage medium.  By default, this corresponds to the User partition (F:\\PackML).  </p> <ul> <li>If you do, modify or delete lines 10\u201316 of the PackML.st INIT program, which creates the directory F:\\PackML if it does not already exist.</li> </ul>"},{"location":"packml/Optional_Modification/#topics-in-this-section","title":"\ud83d\udccc Topics in this section","text":"<ul> <li>Add additional module</li> </ul>"},{"location":"packml/Optional_Modification/page1/","title":"\ud83d\udcc4Change PackML Format","text":""},{"location":"packml/Optional_Modification/page1/#adding-additional-packml-modules","title":"\ud83e\udde9 Adding Additional PackML Modules","text":"<p>By default, the Framework has set up a single main module running in synchronized mode.</p> <p>The user may choose to add additional PackML child modules by: * Configuring a child module with parent gPackMLModule_Main * Using the StateMachine_Main action file as a template to create a child state machine * Using the MpPackMLModule_Main variable in PackMLMgr as a template for calling additional modules</p> <p>See Creating a hierarchy to learn more about hierarchies and configuring child modules.</p>"},{"location":"recipe/","title":"General","text":""},{"location":"recipe/#mapp-recipe-framework","title":"\ud83d\udcdd mapp Recipe Framework","text":"<p>This section describes the mapp Recipe Framework. For full details on mapp Recipe itself, see here. </p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Recipe System Design</li> <li>Task Overview</li> <li>Required Modification</li> <li>Optional Modification</li> </ul>"},{"location":"recipe/features/","title":"\ud83d\udcc4Features","text":""},{"location":"recipe/features/#mapp-recipe-framework","title":"\ud83e\uddfe mapp Recipe Framework","text":"<p>The following features and functionality are included in the mapp Recipe Framework:  </p> <p>\u2022 The infrastructure to set up two distinct recipe files, with a structure variable registered to each  </p> <p>\u2022 The ability to save recipes to a USB drive </p> <p>\u2022 The ability to preview and edit a recipe on the HMI before loading it  </p> <p>\u2022 The recipe system is set up in the XML format. (To convert to a CSV recipe system, see here.)</p> <ol> <li>Both the RecipeXML.mprecipexml and RecipeCSV.mprecipecsv configuration files are already included in the Framework to enable the ability to easily switch back and forth. Only one of these configuration files is used at a time (i.e. the MpLink from only one of these files is referenced in the application).</li> </ol>"},{"location":"recipe/features/#access-rights","title":"\ud83d\udd10 Access Rights","text":"<p>The ability to create / delete / edit a recipe on the mapp View HMI is restricted to the Administrators or Service roles.</p> <p>The ability to load a recipe is restricted to the Administrators, Service, or Operators roles.</p> <p>The default administrative user is Admin with default password 123ABc. The password must be changed after import.</p>"},{"location":"recipe/features/#i-note","title":"\u2139\ufe0f Note","text":"<p>Note that if you edit the active recipe, the PLC will begin using the updated values immediately. You do not have to perform a load command after editing the active recipe.</p>"},{"location":"recipe/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"recipe/required_modification/#required-modifications","title":"\ud83d\udd27 Required Modifications","text":"<p>The Framework by default provides a solid foundation, but in order to integrate it fully into your application there are a few modifications that must be made. The following list of modifications are required to get the Framework in a functional state within the application.</p> <p>\ud83d\udea8 IMPORTANT:  The steps on this page must be executed in order to get the Framework into a functional state! </p> <p>1.Two default recipes (\"Machine.mcfg\" for machine settings and \"Default.par\" for product data) must exist in the mappRecipeFiles file device at startup.Initial versions of these files are provided for reference in the Logical View \u00a0(UserPartition \u2192 Recipe \u2192 CSVformat and UserPartition \u2192 Recipe \u2192 XMLformat).</p> <p>Only the files that are directly in the UserPartition \u2192 Recipe package will be loaded by the recipe system (which by default is the XML file format).</p> <p>2.Modify the structure types within RecipeMgr.typ for each registered variable to suit the needs of the application.</p> <ul> <li> <p>Parameters_type is used to hold the product data </p> </li> <li> <p>MachineSettings_type is used to hold the machine settings / commissioning data </p> </li> </ul> <p>Further information about the design of the recipe system is provided here. </p> <p>3.Create new default recipes that contain the updated structure types from step 2. \u00a0 </p> <p>To do so: </p> <ul> <li> <p>1.Transfer to the target. </p> </li> <li> <p>2.On the HMI, log in as Admin. </p> </li> <li> <p>3.On the Recipe content, create a new recipe. Do not worry about populating values at this step. </p> </li> <li> <p>4.Navigate to the mappRecipeFiles file device \u00a0(by default, USER_PATH:\\Recipe). Open the newly created recipe in a text editor and edit the default values for the recipe parameters as needed. Then copy / paste this recipe file into the UserPartition package in the Logical View. </p> </li> <li> <p>5.Delete the existing default recipe present in the UserPartition package in the Logical View \u00a0(either Default.par or Machine.mcfg). Then rename your new file to the appropriate default recipe name (either Default.par or Machine.mcfg). </p> </li> <li> <p>6.Perform an initial transfer, taking care to transfer the contents of \\Logical\\UserPartition to the USER partition.</p> </li> </ul> <p></p> <p>4.The Recipe Framework uses retained variables, which require nonzero remanent memory. This must be configured in the CPU memory configuration if it is not already configured. </p> <p>5.Change the passwords for the Admin, Operator, and Service_Tech users.This is done in the User.user file in the Configuration View (AccessAndSecurity \u2192 UserRoleSystem \u2192 User.user). Note that if you already had users in your project with these same names prior to import, your existing users will remain unchanged and you do not need to update the passwords. </p> <p>6.If you imported the mapp View front end with the Framework: </p> <ul> <li> <p>Assign the mapp View content (content ID = Recipe_content) to an area on a page within your visualization. </p> </li> <li> <p>On RecipePars.content and RecipeMachConfig.content, each recipe parameter is linked to one of three compound widgets \u00a0(Boolean, Numeric Values, and String).These widgets contain elements for active parameters, preview values, and inputs for editing values. These contents are loaded into the Preview window Recipe.content, depending on the category selection. </p> </li> <li> <p>Several changes must be made on these two contents: </p> <ul> <li> <p>-&gt; Change the text for the compound widget label to provide a meaningful description of the recipe parameter. \u00a0\u00a0The texts are located in RecipeParTexts.tmx. </p> </li> <li> <p>-&gt; Confirm that the widgets match the datatype of your recipe parameter. If not, exchange them with a matching compound widget. </p> </li> <li> <p>-&gt; Adjust the bindings on the output widgets to connect to your recipe variables. Keep in mind the recipe system design. </p> </li> <li> <p>-&gt; If you need to display more than five recipe parameters, add additional compound widgets from the Toolbox  \u00a0and RecipeWidgetLib for each additional parameter and  create texts / bindings as described above. </p> </li> <li> <p>-&gt; Each Recipe compound widget is designed to be configured like a standard widget. You can configure standard properties such as format, unit, and min / max value. </p> </li> </ul> </li> <li> <p>RecipeDialog_NewPars.content and RecipeDialogEditPars.content are used to create and edit parameter recipes. Both are using a ContentControl widget reusing the RecipePars.content, therefore all settings, labels and bindings are the same. The visibility of Edit inputs vs Preview and Active outputs are controlled through behavior inputs of the compound widget </p> </li> <li> <p>RecipeDialog_NewMachConfig.content and RecipeDialog_EditMachConfig.content are used to create and edit \u00a0machine settings recipes. Both use ContentControlwidget reusing RecipeMachConfig.content, therefore all settings, labels, and bindings are the same. The visibility of Edit inputs versus Preview and Active outputs is controlled through behavior inputs of the compound widget. </p> </li> <li> <p>The ability to create / delete / edit a recipe on the mapp View HMI is restricted to the \u00a0 \u00a0Administrators or Service roles.The ability to load a recipe is restricted to the Administrators, Service, or Operators roles. Therefore, add a way to log in on the HMI (for example, by importing the mapp UserX framework).</p> </li> </ul> <p>7.If you did not import the mapp View front end with the Framework, \u00a0connect the HmiRecipe structure elements to your visualization accordingly.</p>"},{"location":"recipe/system/","title":"\ud83d\udcc4Recipe System Design","text":"<p>There are two recipe categories in this recipe system: \"Parameters\" and \"Machine Configuration\".</p> <ul> <li> <p>Each category gets saved to its own recipe file.</p> </li> <li> <p>One structure variable is registered to each category.</p> </li> </ul> <p>o Parameters_type holds the product data.</p> <p>o MachineSettings_type holds the machine data.</p> <ul> <li>Three variables of each datatype are used in order to accomplish the preview functionality   and the ability to edit a recipe without formally loading it.    For example, let\u2019s focus on the parameters structure: </li> </ul> <p>o The variable Parameters is the actual variable structure that holds the active recipe,     which should be used throughout the application.This variable is not directly registered to the recipe. </p> <p>o The variable ParametersPreview is the only variable registered to the Product category of the recipe.     This allows you to load and preview recipes without activating them in the application. If a recipe should be loaded to the application, then the Parameters structure is set equal to     the ParametersPreview structure by the Framework. </p> <p>o The variable ParametersEdit is used as an intermediary structure to allow editing a recipe     without loading it into the application. It also acts as a buffer between the registered variable, allowing you to discard changes while editing if needed.         o The custom compound widgets used to display Active and Preview values also incorporate a value compare feature.The widget compares the selected recipe preview values with the active recipe values, and if they differ, changes the background of the preview value. This background change is accomplished by modifying the style of the standard widget using the modifiedStyle setting under Appearance of the compound widget.    </p> <p>\u2139\ufe0f Note</p> <p>Note that the Recipe Framework contains some While loops in the Initialization program, whereas the other Frameworks do not.</p> <p>The reason for this is that the Framework loads the default recipes in the Initialization program. As a result, the supporting function blocks must be active before the load command can be successfully triggered. </p> <p>The default recipes are loaded in the Initialization program rather than the Cyclic program to avoid the need for a global variable across the Frameworks to indicate when the recipes have finished loading.</p>"},{"location":"recipe/task_overview/","title":"\ud83d\udcc4Task Overview","text":""},{"location":"recipe/task_overview/#mapp-recipe-framework-task-overview","title":"\ud83e\uddfe mapp Recipe Framework \u2013 Task Overview","text":"<p>The RecipeMgr task contains all of the provided Framework code for mapp Recipe. This task is located in the Logical View within the Infrastructure package.</p> <p>The RecipeMgr task is deployed to Task Class 8 by the Import Tool.</p>"},{"location":"recipe/task_overview/#task-files","title":"\ud83d\udcc4 Task Files","text":"Filename Type Description RecipeMgr.st Main task code General mapp function block handling.Registers structure variables to the two recipes.Loads the two default recipes.Calls all actions. HMIActions.st Action Supporting code for HMI functionality, such as the recipe preview feature.Handles all recipe commands coming from the HMI (load, save, etc.). FileOperations.st Action File handling for copying recipes between the User partition and the USB stick."},{"location":"recipe/task_overview/#localizable-alarm-texts","title":"\u2699\ufe0f Localizable Alarm Texts","text":"<p>A localizable text file for the mapp Recipe alarms is included within the Recipe package (RecipeAlarms.tmx).</p> <p>These alarm texts are referenced in the mapp Recipe configuration instead of the default alarm texts provided by mapp Services, which makes it easier for you to expand the texts to include the language of your choice.</p>"},{"location":"recipe/Optional_Modification/","title":"\ud83d\udcc4Overview","text":"<p>Optional Framework Modifications</p> <p>The Framework can be adjusted as needed for the application in any way necessary.</p> <p>This section summarizes some optional modifications that are commonly done to the Framework.</p> <ul> <li>Change to CSV format</li> <li>In the CPU configuration, modify the \u201cmappRecipeFiles\u201d file device to the desired storage medium. By default, this corresponds to the User partition (F:\\Recipe). <ul> <li>If you do, modify or delete lines 10-16 of the RecipeMgr.st INIT program, which creates the directory F:\\Recipe if it does not already exist. </li> </ul> </li> </ul> <p>Topics in this section:</p> <ul> <li>Change recipe format</li> </ul>"},{"location":"recipe/Optional_Modification/page1/","title":"\ud83d\udcc4Change Recipe Format","text":""},{"location":"recipe/Optional_Modification/page1/#change-recipe-format","title":"Change recipe format","text":"<p>By default the Framework sets up the recipe system in the XML format. The framework includes recipe configurations for both the XML and CSV formats to simplify changeover. If you'd like to switch to CSV.</p> <p>The steps are as follows:</p> <ol> <li>In RecipeMgr.var:<ul> <li>Change the datatype of variable MpRecipeSys to MpRecipeCsv</li> <li>Change the datatype of variable Header to MpRecipeCsvHeaderType</li> </ul> </li> <li> <p>In RecipeMgr.st:</p> <ul> <li>Go to Edit \u2192 Find and Replace \u2192 Replace</li> <li>Replace all instances of gMpLinkRecipeXml with gMpLinkRecipeCsv in the whole file. There are 8 occurrences total. </li> </ul> <p> </p> </li> <li> <p>Delete or move any existing .mcfg and .par files out of the Recipe file device (by default this is F:\\Recipe), since these will be the XML format. </p> </li> <li>Copy the default recipe files that are provided in the CSV format (Logical View \u2192 UserPartition \u2192 Recipe \u2192 CSVformat) to the root directory of the Recipe file device. Now the recipe system will load the CSV format versions of the files by default. </li> </ol>"},{"location":"report/","title":"General","text":""},{"location":"report/#mapp-report-framework","title":"\ud83d\udcca mapp Report Framework","text":"<p>This section describes the mapp Report Framework. For full details on mapp Report itself, see here.</p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Task Overview</li> <li>Required Modification</li> <li>Optional Modification</li> </ul>"},{"location":"report/features/","title":"\ud83d\udcc4Features","text":""},{"location":"report/features/#mapp-report-framework-features","title":"\ud83d\udcca mapp Report Framework Features","text":"<p>The following features and functionality are included in the mapp Report Framework:</p> <ul> <li>Two report configurations: </li> </ul> <p>Simple Report </p> <pre><code> - Alarm History \n - OEE summary \n - Temperature sample data\n</code></pre> <p>Advanced Report, which contains all of the Simple Report information plus: </p> <pre><code> - Audit summary \n - A place for a signature \n - Batch number information\n</code></pre> <ul> <li>The ability to view a list of all available reports on the HMI </li> <li>The ability to create, delete, and view a report on the HMI </li> </ul>"},{"location":"report/features/#access-rights","title":"\ud83d\udd10 Access Rights","text":"<p>The ability to delete a report on the mapp View HMI is restricted to the Administrators or Service role.</p> <p>The default administrative user is Admin with the default password 123ABc. The password must be changed after import.</p>"},{"location":"report/optional_modification/","title":"\ud83d\udcc4Optional Modification","text":""},{"location":"report/optional_modification/#optional-modifications","title":"\u2699\ufe0f Optional Modifications","text":"<p>The Framework can be adjusted as needed for the application in any way necessary.</p> <p>This section summarizes some optional modifications that are commonly done to the Framework.</p> <ul> <li>In the CPU configuration, modify the mappReportFiles file device to the desired storage medium.   By default, this corresponds to the User partition (F:\\Report).<ul> <li>If you do, modify or delete lines 10\u201316 of the ReportMgr.st INIT program, which creates the directory F:\\Report if it does not already exist.</li> </ul> </li> </ul>"},{"location":"report/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"report/required_modification/#required-modifications","title":"\ud83d\udd27 Required Modifications","text":"<p>The Framework by default provides a solid foundation, but in order to integrate it fully into your application, a few modifications must be made.</p> <p>The following list of modifications is required to get the Framework into a functional state within the application.</p> <p>\ud83d\udea8 IMPORTANT: The steps on this page must be executed in order to get the Framework into a functional state. </p>"},{"location":"report/required_modification/#1-transfer-the-report-package-to-the-file-device","title":"1. Transfer the Report package to the file device","text":"<p>The UserPartition\\Report package in the Logical View must be transferred to the mappReportFiles file device (which by default is USER_PATH:\\Report).</p> <p>For example, this can be done via an initial installation.</p> <p></p>"},{"location":"report/required_modification/#2-update-report-configurations-with-application-data","title":"2. Update report configurations with application data","text":"<p>Update the provided report configurations with meaningful data from the application.</p> <p>By default, the reports display sample data. For more details, see here.</p> <p>The screenshot at the bottom of this page shows the general connection between process variables, the report configuration, and the output report.</p>"},{"location":"report/required_modification/#3-change-default-user-passwords","title":"3. Change default user passwords","text":"<p>Change the passwords for the Admin, Operator, and Service_Tech users.</p> <p>This is done in the User.user file in the Configuration View (AccessAndSecurity \u2192 UserRoleSystem \u2192 User.user).</p> <p>If users with the same names already existed in the project prior to importing the Framework, those users will remain unchanged and the passwords do not need to be updated.</p>"},{"location":"report/required_modification/#4-integrate-the-mapp-view-front-end-if-imported","title":"4. Integrate the mapp View front end (if imported)","text":"<p>If you imported the mapp View front end with the Framework:</p> <p>a.Assign the mapp View content (content ID = Report_content) to an area on a page within your visualization.</p> <p>b.The ability to delete a report on the mapp View HMI is restricted to the Administrators or Service role. Therefore, add a way to log in on the HMI (for example, by importing the mapp UserX framework).</p> <p>c.If you are using mapp View 5.16 or 5.17, change usePlugin to false on the PDFViewer widget on ReportDialog_View_content. This configures the widget to use the browser\u2019s internal PDF viewer rather than the JavaScript plugin. Otherwise, reports will not display correctly on the mapp View HMI. An improvement to the JavaScript plugin was made in mapp View 5.18 .</p>"},{"location":"report/required_modification/#5-integrate-the-hmi-without-mapp-view","title":"5. Integrate the HMI without mapp View","text":"<p>If you did not import the mapp View front end with the Framework, connect the HmiReport structure elements to your visualization accordingly (see general information for more details).</p> <p></p>"},{"location":"report/task_overview/","title":"\ud83d\udcc4Task Overview","text":""},{"location":"report/task_overview/#reportmgr-task-overview","title":"\ud83d\udcca ReportMgr Task Overview","text":"<p>The ReportMgr task contains all of the provided Framework code for mapp Report. This task is located in the Logical View within the Infrastructure package.</p> <p>The chart below provides a description of the main task and each action file.</p> <p>The ReportMgr task is deployed to Task Class 8 by the Import Tool.</p>"},{"location":"report/task_overview/#task-files","title":"\ud83d\udcc4 Task Files","text":"Filename Type Description ReportMgr.st Main task code General mapp function block handling.Calls all actions.Populates sample data. HMIActions.st Action Supporting code for HMI functionality.Handles the selection between simple and advanced reports.Manages the report file explorer."},{"location":"report/task_overview/#localizable-alarm-texts","title":"\u2699\ufe0f Localizable Alarm Texts","text":"<p>A localizable text file for the mapp Report alarms is included within the Report package (ReportAlarms.tmx).</p> <p>These alarm texts are referenced in the mapp Report configuration instead of the default alarm texts provided by mapp Services, which makes it easier to expand the texts to include the language of your choice.</p>"},{"location":"userx/","title":"General","text":""},{"location":"userx/#mapp-userx-framework","title":"\ud83d\udcc2 mapp UserX Framework","text":"<p>This section describes the mapp UserX Framework. For full details on mapp UserX itself, see here.</p> <p>IMPORTANT: The steps on the \"Required Modifications\" page must be executed in order to get the Framework into a  functional state!</p> <p>Topics in this section:</p> <ul> <li>Features</li> <li>Task Overview</li> <li>Required Modification</li> <li>Optional Modification</li> </ul>"},{"location":"userx/features/","title":"\ud83d\udcc4Features","text":""},{"location":"userx/features/#mapp-userx-framework-features","title":"\ud83d\udc64 mapp UserX Framework Features","text":"<p>The following features and functionality are included in the mapp UserX Framework:  </p> <p>\u2022 Local user management (as opposed to Active Directory)  </p> <p>\u2022 Ability to import / export user information via the HMI </p> <p>\u2022 The following predefined roles:   Everyone, Operator, Service, Admin  </p> <p>\u2022 The following predefined users:   Admin, Operator, ServiceTech, Anonymous  </p>"},{"location":"userx/features/#access-rights","title":"\ud83d\udd10 Access Rights","text":"<p>The ability to view / edit / add / delete / import / export users in the UserList widget on the mapp View HMI is restricted to the Administrators role.</p> <p>The default administrative user is Admin with default password 123ABc. The password must be changed after import.</p>"},{"location":"userx/optional_modification/","title":"\ud83d\udcc4Optional Modification","text":""},{"location":"userx/optional_modification/#optional-modifications","title":"\u2699\ufe0f Optional Modifications","text":"<p>The Framework can be adjusted as needed for the application in any way necessary.This section summarizes some optional modifications that are commonly done to the Framework. </p> <p>Modify the available roles and users if desired.</p> <ol> <li> <p>This is done in the Role.role and User.user files in the Configuration View.</p> </li> <li> <p>If you make changes, be sure to update the UserXCfg.mpuserx configuration file as well.</p> <p>\u25aa Note that users only need to be added to the UserXCfg.mpuserx configuration file   if you want to utilize the Language, Measurement system, or Additional Data properties for that user. mapp UserX automatically has access to all users listed in User.user.  </p> <p>\u25aa Similarly, note that roles only need to be added to the UserXCfg.mpuserx configuration file   if you want to specify administrative or access rights. mapp UserX automatically has access to all roles listed in Role.role. </p> </li> </ol> <p>In the User.user file, set new passwords for Admin, Operator, and ServiceTech. By default, all three passwords are set to 123ABc. Do not set a password for the Anonymous user.</p> <p>In the CPU configuration, modify the mappUserXFiles file device to the desired storage medium.  By default, this corresponds to the User partition (F:\\UserX).</p> <ol> <li>If you do, modify or delete lines 10\u201316 of the UserXMgr.st INIT program, which creates the directory F:\\UserX if it does not already exist.</li> </ol>"},{"location":"userx/required_modification/","title":"\ud83d\udcc4Required Modification","text":""},{"location":"userx/required_modification/#required-modifications","title":"\ud83d\udd27 Required Modifications","text":"<p>The Framework by default provides a solid foundation, but in order to integrate it fully into your application there are a few modifications that must be made. The following list of modifications are required to get the Framework in a functional state within the application.</p> <p>\ud83d\udea8 IMPORTANT: The steps on this page must be executed in order to get the Framework into a functional state! </p> <ol> <li> <p>Change the passwords for the Admin, Operator, and Service_Tech users. This is done in the User.user file in the Configuration View (AccessAndSecurity \u2192 UserRoleSystem \u2192 User.user). Note that if you already had users in your project with these same names prior to import, your existing users will remain unchanged and you do not need to update the passwords.</p> </li> <li> <p>If you imported the mapp View front end with the Framework, assign the mapp View content (content ID = UserX_content) to an area on a page within your visualization.</p> </li> <li> <p>If you did not import the mapp View front end,  connect the HmiUserX structure elements to your visualization accordingly.</p> </li> </ol>"},{"location":"userx/task_overview/","title":"\ud83d\udcc4Task Overview","text":""},{"location":"userx/task_overview/#userxmgr-task-overview","title":"\ud83d\udc64 UserXMgr Task Overview","text":"<p>The UserXMgr task contains all of the provided Framework code for mapp UserX. This task is located in the Logical View within the Infrastructure package.</p> <p>The UserXMgr task is deployed to Task Class 8 by the Import Tool.</p>"},{"location":"userx/task_overview/#task-files","title":"\ud83d\udcc4 Task Files","text":"Filename Type Description UserXMgr.st Main task code Handles user interface interaction."},{"location":"userx/task_overview/#localizable-alarm-texts","title":"\u2699\ufe0f Localizable Alarm Texts","text":"<p>A localizable text file for the mapp UserX alarms is included within the UserX package (UserXAlarms.tmx).</p> <p>These alarm texts are referenced in the mapp UserX login configuration instead of the default alarm texts provided by mapp Services, which makes it easier for you to expand the texts to include the language of your choice.</p>"}]}